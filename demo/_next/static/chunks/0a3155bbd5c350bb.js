(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,s,t)=>{s.exports=e.r(76562)},72476,e=>{"use strict";e.s(["default",()=>n]);var s=e.i(43476),t=e.i(71645),r=e.i(18566),a=e.i(23312);function n(){let e=(0,r.useRouter)(),{state:n,updateEnvironment:l}=(0,a.useDeployment)(),[i,c]=(0,t.useState)([]),[o,d]=(0,t.useState)({});(0,t.useEffect)(()=>{window.scrollTo(0,0)},[]),(0,t.useEffect)(()=>{if(!n.resources)return void e.push("/");let s=[],t="".concat(Math.random().toString(36).substring(2,10)).concat(Math.random().toString(36).substring(2,10)).toUpperCase(),r="".concat(Math.random().toString(36).substring(2,12)).concat(Math.random().toString(36).substring(2,12)).toUpperCase(),a="db-".concat(Math.random().toString(36).substring(2,9),".unhazzle.io"),l="cache-".concat(Math.random().toString(36).substring(2,9),".unhazzle.io");n.resources.database&&(s.push({key:"DATABASE_URL",value:"postgresql://unhazzle_user:".concat(t,"@").concat(a,":5432/ecommerce_prod"),isSecret:!0,isAutoGenerated:!0}),s.push({key:"DATABASE_PASSWORD",value:t,isSecret:!0,isAutoGenerated:!0})),n.resources.cache&&(s.push({key:"REDIS_URL",value:"redis://default:".concat(r,"@").concat(l,":6379"),isSecret:!0,isAutoGenerated:!0}),s.push({key:"REDIS_PASSWORD",value:r,isSecret:!0,isAutoGenerated:!0})),c([...s,{key:"STRIPE_SECRET_KEY",value:"sk_live_51NxK7jL2Bm9x8P3vQz4R5w6Y7t8U9i0",isSecret:!0},{key:"STRIPE_WEBHOOK_SECRET",value:"whsec_a7B8c9D0e1F2g3H4i5J6k7L8m9N0o1P2",isSecret:!0},{key:"NODE_ENV",value:"production",isSecret:!1}])},[n.resources,e]);let x=(e,s,t)=>{let r=[...i];"isSecret"===s?r[e].isSecret=t:r[e][s]=t,c(r)},u=e=>{d(s=>({...s,[e]:!s[e]}))};return n.resources?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-12 px-4",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsxs)("div",{className:"inline-flex items-center gap-2 bg-blue-100 text-blue-700 px-4 py-2 rounded-full text-sm font-medium mb-4",children:[(0,s.jsx)("span",{children:"🔐"}),(0,s.jsx)("span",{children:"Secure environment configuration"})]}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-slate-900 mb-3",children:"Environment Variables"}),(0,s.jsx)("p",{className:"text-lg text-slate-600",children:"We've auto-generated connection strings. Add your application secrets below."})]}),i.some(e=>e.isAutoGenerated)&&(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-600 to-teal-600 rounded-lg flex items-center justify-center text-white text-xl",children:"✨"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Auto-Generated"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Managed by unhazzle, no setup required"})]})]}),(0,s.jsx)("div",{className:"text-xs bg-green-100 text-green-700 px-3 py-1 rounded-full font-semibold",children:"READY"})]}),(0,s.jsx)("div",{className:"space-y-3",children:i.filter(e=>e.isAutoGenerated).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("code",{className:"text-sm font-semibold text-slate-900",children:e.key}),(0,s.jsx)("span",{className:"text-xs bg-green-200 text-green-800 px-2 py-0.5 rounded",children:"auto"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("code",{className:"text-xs text-slate-600 font-mono",children:o[e.key]?e.value:"••••••••••••••••••••"}),(0,s.jsx)("button",{onClick:()=>u(e.key),className:"text-xs text-green-700 hover:text-green-900 font-medium",children:o[e.key]?"🙈 Hide":"👁️ Show"})]})]}),(0,s.jsx)("div",{className:"text-2xl",children:"🔒"})]},e.key))}),(0,s.jsx)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,s.jsx)("strong",{children:"💡 Tip:"})," These connection strings are automatically injected at runtime. They're rotated during maintenance windows for security."]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-blue-600 rounded-lg flex items-center justify-center text-white text-xl",children:"🔑"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Application Secrets"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"API keys, tokens, and configuration"})]})]}),(0,s.jsxs)("button",{onClick:()=>{c([...i,{key:"",value:"",isSecret:!1}])},className:"flex items-center gap-2 px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition font-medium text-sm",children:[(0,s.jsx)("span",{children:"+"}),(0,s.jsx)("span",{children:"Add Variable"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[i.filter(e=>!e.isAutoGenerated).map((e,t)=>{let r=i.findIndex((e,s)=>!e.isAutoGenerated&&i.filter((e,t)=>!e.isAutoGenerated&&t<s).length===t);return(0,s.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)("input",{type:"text",placeholder:"KEY_NAME",value:e.key,onChange:e=>x(r,"key",e.target.value.toUpperCase().replace(/[^A-Z0-9_]/g,"_")),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:e.isSecret&&!o[e.key]?"password":"text",placeholder:"value",value:e.value,onChange:e=>x(r,"value",e.target.value),className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"}),e.isSecret&&(0,s.jsx)("button",{onClick:()=>u(e.key),className:"px-3 py-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition text-sm",children:o[e.key]?"🙈":"👁️"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.isSecret,onChange:e=>x(r,"isSecret",e.target.checked),className:"rounded border-slate-300 text-purple-600 focus:ring-purple-500"}),(0,s.jsx)("span",{children:"Mark as secret (encrypted at rest)"})]})]}),(0,s.jsx)("button",{onClick:()=>{i[r].isAutoGenerated||c(i.filter((e,s)=>s!==r))},className:"mt-2 text-slate-400 hover:text-red-600 transition",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},r)}),0===i.filter(e=>!e.isAutoGenerated).length&&(0,s.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,s.jsx)("p",{className:"mb-2",children:"No custom variables yet"}),(0,s.jsx)("p",{className:"text-sm",children:'Click "Add Variable" to add API keys, tokens, or configuration'})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 mb-8 border border-purple-100",children:[(0,s.jsxs)("h3",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[(0,s.jsx)("span",{children:"🔐"}),(0,s.jsx)("span",{children:"Security best practices:"})]}),(0,s.jsxs)("ul",{className:"space-y-2 text-sm text-slate-700",children:[(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-purple-600 mt-0.5",children:"•"}),(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:"Encryption:"})," All secrets are encrypted at rest using AES-256"]})]}),(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-purple-600 mt-0.5",children:"•"}),(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:"Access control:"})," Only your running containers can access these values"]})]}),(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-purple-600 mt-0.5",children:"•"}),(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:"Audit logs:"})," Every secret access is logged for compliance"]})]}),(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-purple-600 mt-0.5",children:"•"}),(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:"Updates:"})," Change secrets anytime without redeployment"]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("button",{onClick:()=>e.back(),className:"px-6 py-3 text-slate-600 hover:text-slate-900 font-medium transition",children:"← Back"}),(0,s.jsxs)("button",{onClick:()=>{l({userSecrets:i.filter(e=>!e.isAutoGenerated&&e.key).map(e=>({key:e.key,value:e.value,masked:e.isSecret})),autoGenerated:i.filter(e=>e.isAutoGenerated).map(e=>({key:e.key,value:e.value,readOnly:!0}))}),e.push("/domain")},className:"inline-flex items-center gap-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold px-8 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all transform hover:scale-105 shadow-lg",children:[(0,s.jsx)("span",{children:"Continue to Domain Setup"}),(0,s.jsx)("span",{children:"→"})]})]})]})}):null}}]);