(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,s,t)=>{s.exports=e.r(76562)},81096,e=>{"use strict";e.s(["default",()=>a]);var s=e.i(43476),t=e.i(71645),l=e.i(18566),r=e.i(23312);function a(){let e=(0,l.useRouter)(),{state:a,updateApplication:i}=(0,r.useDeployment)(),[n,c]=(0,t.useState)("ghcr.io/acme/ecommerce-shop:v2.1.0"),[o,d]=(0,t.useState)(!0),[x,m]=(0,t.useState)(""),[h,u]=(0,t.useState)(""),[p,g]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{n.startsWith("docker.io/")||n.startsWith("public.ecr.aws/")?d(!1):d(!0)},[n]),(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-12 px-4",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white text-sm font-bold",children:"✓"}),(0,s.jsx)("div",{className:"text-xs text-slate-500 ml-2",children:"Sign In"})]}),(0,s.jsx)("div",{className:"w-12 h-0.5 bg-green-500"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white text-sm font-bold",children:"✓"}),(0,s.jsx)("div",{className:"text-xs text-slate-500 ml-2",children:"Questions"})]}),(0,s.jsx)("div",{className:"w-12 h-0.5 bg-purple-500"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-white text-sm font-bold",children:"3"}),(0,s.jsx)("div",{className:"text-xs text-slate-700 ml-2 font-medium",children:"Application"})]}),(0,s.jsx)("div",{className:"w-12 h-0.5 bg-slate-200"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-400 text-sm font-bold",children:"4"}),(0,s.jsx)("div",{className:"text-xs text-slate-400 ml-2",children:"Resources"})]})]}),(0,s.jsxs)("div",{className:"text-center mb-10",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-slate-900 mb-3",children:"Add Your Application"}),(0,s.jsx)("p",{className:"text-lg text-slate-600",children:"Enter your container image URL. We'll auto-detect port and health check."})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-6",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-3",children:"Container Image URL *"}),(0,s.jsx)("input",{type:"text",value:n,onChange:e=>c(e.target.value),placeholder:"e.g., ghcr.io/your-org/app:v1.0.0",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none font-mono text-sm"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"💡 Supported: Docker Hub, GitHub Container Registry (ghcr.io), Google Container Registry (gcr.io), AWS ECR"})]}),(0,s.jsx)("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"text-2xl",children:o?"🔒":"🌍"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-slate-900 mb-1",children:o?"Private Registry Detected":"Public Registry Detected"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:o?"This appears to be a private registry. Please provide authentication credentials below.":"This looks like a public registry. No authentication required!"})]})]})}),o&&(0,s.jsxs)("div",{className:"border-t border-slate-200 pt-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Registry Authentication"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Username (optional)"}),(0,s.jsx)("input",{type:"text",value:x,onChange:e=>m(e.target.value),placeholder:"registry-username",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Some registries use email or username"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Access Token / Password *"}),(0,s.jsx)("input",{type:"password",value:h,onChange:e=>u(e.target.value),placeholder:"ghp_xxxxxxxxxxxxxxxxxxxx or password",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none font-mono text-sm"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"🔐 Securely encrypted and never logged"})]}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-900 text-sm mb-2",children:"📖 How to generate tokens:"}),(0,s.jsxs)("ul",{className:"text-xs text-blue-800 space-y-1",children:[(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"GitHub (ghcr.io):"})," Settings → Developer settings → Personal access tokens → Generate with read:packages scope"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Docker Hub:"})," Account Settings → Security → New Access Token"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"AWS ECR:"})," Use AWS CLI: aws ecr get-login-password"]})]})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 mb-8 border border-purple-100",children:[(0,s.jsxs)("h3",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[(0,s.jsx)("span",{children:"🔍"}),(0,s.jsx)("span",{children:"What we'll auto-detect from your image:"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("span",{className:"text-purple-600",children:"🔌"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-slate-900 text-sm",children:"Exposed Port"}),(0,s.jsx)("p",{className:"text-xs text-slate-600",children:"From Dockerfile EXPOSE directive"})]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("span",{className:"text-blue-600",children:"❤️"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-slate-900 text-sm",children:"Health Check"}),(0,s.jsx)("p",{className:"text-xs text-slate-600",children:"From Dockerfile HEALTHCHECK or default /health"})]})]})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-4",children:"Don't worry - you can override these in the next step if needed"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("button",{onClick:()=>e.back(),className:"px-6 py-3 text-slate-600 hover:text-slate-900 font-medium transition",children:"← Back"}),(0,s.jsx)("button",{onClick:()=>n.trim()?o&&!h.trim()?void alert("Please provide a registry token for private images"):void(g(!0),setTimeout(()=>{g(!1),i({imageUrl:n,registryUsername:x||void 0,registryToken:h||void 0,port:3e3,healthCheck:"/health"}),e.push("/resources")},1500)):void alert("Please enter a container image URL"),disabled:p,className:"inline-flex items-center gap-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold px-8 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{children:"Detecting image metadata..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"Continue to Resources"}),(0,s.jsx)("span",{children:"→"})]})})]})]})})}}]);