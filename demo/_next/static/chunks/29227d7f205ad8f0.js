(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78928,e=>{"use strict";e.s(["default",()=>c],78928);var s=e.i(43476),t=e.i(71645),a=e.i(18566),l=e.i(23312);function n(e,s,t){let a,l=parseFloat(s),n=parseFloat(t);return a=l<=1&&n<=2?4.99:l<=2&&n<=4?5.49:l<=4&&n<=8?9.49:17.49,Math.round(Math.ceil((e.min+e.max)/2/2)*a)}function r(e,s,t,a){let l,n,r=parseFloat(e),i=parseFloat(s);return l=t.includes("TB")?1e3*parseFloat(t):parseFloat(t),n=r<=1&&i<=2?4.99:r<=2&&i<=4?5.49:r<=4&&i<=8?9.49:r<=8&&i<=16?17.49:34.49,(a.includes("HA")||a.includes("Multi-region"))&&(n*=2),Math.round((n+.044*l)*100)/100}function i(e){let s=parseFloat(e.replace("MB","").replace("GB",""))*(e.includes("GB")?1024:1);return s<1024?0:s<=2048?4.99:5.49}function c(){var e;let n=(0,a.useRouter)(),{state:r}=(0,l.useDeployment)(),[i,c]=(0,t.useState)("overview"),[d,h]=(0,t.useState)(99.98),[u,p]=(0,t.useState)(42),[b,j]=(0,t.useState)(58),[v,g]=(0,t.useState)(1240),[N,f]=(0,t.useState)("all");if((0,t.useEffect)(()=>{window.scrollTo(0,0)},[]),(0,t.useEffect)(()=>{r.deployed||n.push("/")},[r.deployed,n]),(0,t.useEffect)(()=>{let e=setInterval(()=>{p(e=>Math.max(15,Math.min(80,e+(Math.random()-.5)*10))),j(e=>Math.max(30,Math.min(85,e+(Math.random()-.5)*8))),g(e=>Math.max(800,Math.min(2e3,e+(Math.random()-.5)*200))),h(99.95+.05*Math.random())},3e3);return()=>clearInterval(e)},[]),!r.deployed)return null;let y=(e,s)=>e>s.critical?"text-red-600":e>s.warning?"text-yellow-600":"text-green-600";return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-8 px-4",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"Your Application"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("span",{className:"text-sm text-slate-600",children:["Deployed to: ",(0,s.jsx)("code",{className:"bg-white px-2 py-1 rounded text-xs font-mono",children:null==(e=r.domain)?void 0:e.defaultSubdomain})]}),(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-medium",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-green-600 rounded-full animate-pulse"}),"Live"]})]})]}),(0,s.jsx)("button",{onClick:()=>n.push("/"),className:"px-6 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition font-medium",children:"â† New Deployment"})]})}),(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-slate-600 font-medium",children:"Uptime"}),(0,s.jsx)("span",{className:"text-2xl",children:"â±ï¸"})]}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-slate-900",children:[d.toFixed(2),"%"]}),(0,s.jsx)("p",{className:"text-xs text-green-600 mt-2",children:"âœ“ Excellent"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-slate-600 font-medium",children:"CPU Usage"}),(0,s.jsx)("span",{className:"text-2xl",children:"âš¡"})]}),(0,s.jsxs)("p",{className:"text-3xl font-bold ".concat(y(u,{warning:70,critical:85})),children:[u.toFixed(0),"%"]}),(0,s.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2 mt-3",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all ".concat(u>85?"bg-red-600":u>70?"bg-yellow-600":"bg-green-600"),style:{width:"".concat(u,"%")}})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-slate-600 font-medium",children:"Memory Usage"}),(0,s.jsx)("span",{className:"text-2xl",children:"ðŸ’¾"})]}),(0,s.jsxs)("p",{className:"text-3xl font-bold ".concat(y(b,{warning:75,critical:90})),children:[b.toFixed(0),"%"]}),(0,s.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2 mt-3",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all ".concat(b>90?"bg-red-600":b>75?"bg-yellow-600":"bg-green-600"),style:{width:"".concat(b,"%")}})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-slate-600 font-medium",children:"Requests/min"}),(0,s.jsx)("span",{className:"text-2xl",children:"ðŸ“¡"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:Math.round(v)}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Current traffic"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"border-b border-slate-200 flex",children:["overview","logs","metrics","events","settings","nextSteps"].map(e=>(0,s.jsx)("button",{onClick:()=>c(e),className:"flex-1 px-6 py-4 font-medium transition text-center relative ".concat("nextSteps"===e?i===e?"border-b-2 border-amber-500 text-amber-600 bg-amber-50":"border-b-2 border-transparent text-amber-600 hover:text-amber-700 bg-gradient-to-b from-amber-50 to-transparent":i===e?"border-b-2 border-purple-600 text-purple-600 bg-purple-50":"text-slate-600 hover:text-slate-900"),children:(0,s.jsx)("div",{className:"flex items-center justify-center gap-2",children:"nextSteps"===e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"Next Steps"}),(0,s.jsx)("span",{className:"animate-pulse text-lg",children:"â†’"}),(0,s.jsx)("span",{className:"inline-block px-2 py-0.5 bg-amber-500 text-white text-xs rounded-full font-bold",children:"IMPORTANT"})]}):e.charAt(0).toUpperCase()+e.slice(1)})},e))}),(0,s.jsxs)("div",{className:"p-6",children:["overview"===i&&(0,s.jsx)(o,{}),"logs"===i&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"Application:"}),(0,s.jsxs)("select",{value:N,onChange:e=>f(e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm bg-white",children:[(0,s.jsx)("option",{value:"all",children:"All Applications"}),r.containers.map((e,t)=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsx)("div",{className:"bg-slate-900 rounded-lg p-4 font-mono text-sm text-green-400 space-y-1 max-h-96 overflow-y-auto",children:(()=>{let e=[];return r.containers.forEach((s,t)=>{("all"===N||N===s.id)&&(e.push({container:s.name,message:"[2025-11-02 14:32:15] Application started successfully"},{container:s.name,message:"[2025-11-02 14:32:17] â†’ HTTP server listening on port ".concat(s.port)},{container:s.name,message:"[2025-11-02 14:32:18] âœ“ Health check passed"},{container:s.name,message:"[2025-11-02 14:32:19] â†’ Replica 1 reporting healthy"},{container:s.name,message:"[2025-11-02 14:32:20] â†’ Replica 2 reporting healthy"}),s.serviceAccess.database&&e.push({container:s.name,message:"[2025-11-02 14:32:16] âœ“ Database connection established"}),s.serviceAccess.cache&&e.push({container:s.name,message:"[2025-11-02 14:32:16] âœ“ Redis cache connected"}),"public"===s.exposure?e.push({container:s.name,message:"[2025-11-02 14:35:42] GET /api/products 200 45ms"},{container:s.name,message:"[2025-11-02 14:35:43] POST /api/cart 201 52ms"},{container:s.name,message:"[2025-11-02 14:35:44] GET /api/checkout 200 38ms"},{container:s.name,message:"[2025-11-02 14:35:45] POST /api/orders 201 127ms"},{container:s.name,message:"[2025-11-02 14:35:46] GET / 200 15ms (cached)"}):e.push({container:s.name,message:"[2025-11-02 14:35:42] Processing background job #1234"},{container:s.name,message:"[2025-11-02 14:35:43] â†’ Job completed in 89ms"},{container:s.name,message:"[2025-11-02 14:35:44] Handling internal API call"}))}),e.map((e,t)=>(0,s.jsxs)("div",{children:["all"===N&&(0,s.jsxs)("span",{className:"text-purple-400",children:["[",e.container,"] "]}),e.message]},t))})()})]}),"metrics"===i&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Performance Metrics"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:"Average Response Time"}),(0,s.jsx)("div",{className:"text-4xl font-bold text-purple-600",children:"45ms"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"â†“ 12% from yesterday"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:"Error Rate"}),(0,s.jsx)("div",{className:"text-4xl font-bold text-green-600",children:"0.02%"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Excellent reliability"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:"99th Percentile (p99)"}),(0,s.jsx)("div",{className:"text-4xl font-bold text-blue-600",children:"234ms"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Well within SLA"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:"Requests Today"}),(0,s.jsx)("div",{className:"text-4xl font-bold text-slate-900",children:"1.8M"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"â†‘ 23% from yesterday"})]})]})]}),"events"===i&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Recent Events"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex gap-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,s.jsx)("span",{className:"text-2xl",children:"ðŸ“¤"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-blue-900",children:"Deployment Completed"}),(0,s.jsx)("p",{className:"text-sm text-blue-700",children:"All replicas healthy and serving traffic"}),(0,s.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"2 hours ago"})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,s.jsx)("span",{className:"text-2xl",children:"ðŸ“Š"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-slate-900",children:"Auto-scaling triggered"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Scaled from 2 to 4 replicas due to high traffic"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"45 minutes ago"})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,s.jsx)("span",{className:"text-2xl",children:"ðŸ”„"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-slate-900",children:"Database backup completed"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Automatic daily backup successful (5.2 GB)"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"1 hour ago"})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,s.jsx)("span",{className:"text-2xl",children:"âœ…"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-green-900",children:"SSL certificate renewed"}),(0,s.jsx)("p",{className:"text-sm text-green-700",children:"Auto-renewal for HTTPS certificate successful"}),(0,s.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"3 days ago"})]})]})]})]}),"settings"===i&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-purple-50 border border-purple-200 p-6 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Settings moved to Overview"}),(0,s.jsx)("p",{className:"text-slate-700 mb-4",children:"Edit your current deployment configuration in the Overview tab. Use the left sidebar to pick a resource and the right panel to edit. You can preview and apply staged changes."}),(0,s.jsx)("button",{onClick:()=>c("overview"),className:"px-5 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-medium",children:"Go to Overview"})]}),(0,s.jsx)("div",{className:"text-xs text-slate-500",children:"Looking for advanced settings? Weâ€™ll surface them here soon. For now, everything configurable is available in Overview."})]}),"nextSteps"===i&&(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-6 rounded-lg border border-purple-200",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-2 flex items-center gap-2",children:[(0,s.jsx)("span",{children:"ðŸš€"}),(0,s.jsx)("span",{children:"Enable Continuous Deployment"})]}),(0,s.jsx)("p",{className:"text-slate-600",children:"Your application is now live! The next step is to enable automatic deployments from your GitHub repository using the Unhazzle CLI and GitHub Actions."}),(0,s.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[(0,s.jsxs)("a",{href:"/unhazzle.io/cli-demo/cli-guide.html",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-medium",children:["Experience the Unhazzle CLI",(0,s.jsx)("span",{"aria-hidden":"true",children:"â†—"})]}),(0,s.jsx)("span",{className:"text-sm text-slate-600",children:"Simulate the same deployment flow directly from your terminal."})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold",children:"1"}),(0,s.jsx)("h4",{className:"text-lg font-bold text-slate-900",children:"Export Your Infrastructure Configuration"})]}),(0,s.jsx)("p",{className:"text-slate-600 ml-11",children:"Below is your infrastructure configuration in YAML format. This file describes all your resources, environment variables, and settings. Copy it to your repository for version control and CI/CD integration."}),(0,s.jsx)("div",{className:"ml-11 space-y-3",children:(0,s.jsxs)("div",{className:"bg-slate-900 rounded-lg overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-slate-800 px-4 py-3 flex items-center justify-between border-b border-slate-700",children:[(0,s.jsx)("span",{className:"text-white font-mono text-sm",children:"unhazzle.yaml"}),(0,s.jsx)("button",{onClick:()=>{let e=x(r);navigator.clipboard.writeText(e),alert("YAML copied to clipboard!")},className:"px-3 py-1 bg-purple-600 text-white text-xs rounded hover:bg-purple-700 transition",children:"Copy"})]}),(0,s.jsx)("pre",{className:"p-4 text-white font-mono text-xs overflow-x-auto max-h-72",children:(0,s.jsx)("code",{children:x(r)})})]})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold",children:"2"}),(0,s.jsx)("h4",{className:"text-lg font-bold text-slate-900",children:"Add YAML to Your Repository"})]}),(0,s.jsx)("p",{className:"text-slate-600 ml-11",children:"Commit the unhazzle.yaml file to the root of your repository:"}),(0,s.jsxs)("div",{className:"ml-11 bg-slate-100 rounded-lg p-4 font-mono text-sm space-y-1",children:[(0,s.jsx)("div",{className:"text-slate-700",children:"$ git add unhazzle.yaml"}),(0,s.jsx)("div",{className:"text-slate-700",children:'$ git commit -m "Add Unhazzle deployment config"'}),(0,s.jsx)("div",{className:"text-slate-700",children:"$ git push origin main"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold",children:"3"}),(0,s.jsx)("h4",{className:"text-lg font-bold text-slate-900",children:"Set Up GitHub Actions Workflow"})]}),(0,s.jsx)("p",{className:"text-slate-600 ml-11",children:"Create a GitHub Actions workflow to automatically deploy on every push:"}),(0,s.jsx)("div",{className:"ml-11 space-y-3",children:(0,s.jsxs)("div",{className:"bg-slate-900 rounded-lg overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-slate-800 px-4 py-3 flex items-center justify-between border-b border-slate-700",children:[(0,s.jsx)("span",{className:"text-white font-mono text-sm",children:".github/workflows/deploy.yml"}),(0,s.jsx)("button",{onClick:()=>{let e=m();navigator.clipboard.writeText(e),alert("Workflow copied to clipboard!")},className:"px-3 py-1 bg-purple-600 text-white text-xs rounded hover:bg-purple-700 transition",children:"Copy"})]}),(0,s.jsx)("pre",{className:"p-4 text-white font-mono text-xs overflow-x-auto max-h-72",children:(0,s.jsx)("code",{children:m()})})]})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold",children:"4"}),(0,s.jsx)("h4",{className:"text-lg font-bold text-slate-900",children:"Install Unhazzle CLI"})]}),(0,s.jsx)("p",{className:"text-slate-600 ml-11",children:"Install the Unhazzle CLI locally for development and debugging:"}),(0,s.jsxs)("div",{className:"ml-11 bg-slate-100 rounded-lg p-4 font-mono text-sm space-y-1",children:[(0,s.jsx)("div",{className:"text-slate-700",children:"$ npm install -g @unhazzle/cli"}),(0,s.jsx)("div",{className:"text-slate-700 mt-3",children:"# Or authenticate with GitHub"}),(0,s.jsx)("div",{className:"text-slate-700",children:"$ unhazzle auth login"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold",children:"5"}),(0,s.jsx)("h4",{className:"text-lg font-bold text-slate-900",children:"All Set! Continuous Deployment Enabled"})]}),(0,s.jsx)("p",{className:"text-slate-600 ml-11",children:"From now on, every time you push to your main branch:"}),(0,s.jsxs)("div",{className:"ml-11 space-y-2 text-slate-600",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("span",{className:"text-purple-600 font-bold mt-1",children:"â€¢"}),(0,s.jsx)("span",{children:"GitHub Actions picks up the unhazzle.yaml file"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("span",{className:"text-purple-600 font-bold mt-1",children:"â€¢"}),(0,s.jsx)("span",{children:"Unhazzle CLI automatically deploys your app with the exact configuration"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("span",{className:"text-purple-600 font-bold mt-1",children:"â€¢"}),(0,s.jsx)("span",{children:"No manual steps, no configuration drift, fully automated"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("span",{className:"text-purple-600 font-bold mt-1",children:"â€¢"}),(0,s.jsx)("span",{children:"Deployment status is reflected in your GitHub PR"})]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200 space-y-4",children:[(0,s.jsx)("h4",{className:"font-bold text-slate-900",children:"ðŸ”§ Useful CLI Commands"}),(0,s.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-mono text-slate-700 mb-1",children:"$ unhazzle status"}),(0,s.jsx)("p",{className:"text-slate-600",children:"Check application health and metrics"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-mono text-slate-700 mb-1",children:"$ unhazzle logs --follow"}),(0,s.jsx)("p",{className:"text-slate-600",children:"Stream real-time application logs"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-mono text-slate-700 mb-1",children:"$ unhazzle env set KEY=VALUE"}),(0,s.jsx)("p",{className:"text-slate-600",children:"Update environment variables on the fly"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-mono text-slate-700 mb-1",children:"$ unhazzle deploy --config unhazzle.yaml"}),(0,s.jsx)("p",{className:"text-slate-600",children:"Manual deployment using your YAML config"})]})]})]}),(0,s.jsxs)("div",{className:"text-center p-6 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border border-purple-200",children:[(0,s.jsx)("p",{className:"text-slate-600 mb-4",children:"Want to learn more about continuous deployment?"}),(0,s.jsx)("a",{href:"https://docs.unhazzle.io/cli",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-medium",children:"Read the CLI Documentation â†’"})]})]})]})]})]})})}function o(){var e,a,c,o,x,m,h,u,p,b,j,v,g,N,f,y,k,w,C,S,A,E,R;let{state:z,updateContainer:P,updateResources:B}=(0,l.useDeployment)(),[T,U]=(0,t.useState)(()=>{var e;return{kind:"application",id:null==(e=z.containers[0])?void 0:e.id}}),_="application"===T.kind?z.containers.find(e=>e.id===T.id):void 0,[G,L]=(0,t.useState)(_||null),[M,O]=(0,t.useState)((null==(e=z.resources)?void 0:e.database)||null),[D,I]=(0,t.useState)((null==(a=z.resources)?void 0:a.cache)||null),[V,H]=(0,t.useState)(!1),[F,q]=(0,t.useState)(!1),[$,J]=(0,t.useState)(!1);(0,t.useEffect)(()=>{var e,s;if("application"===T.kind){let e=z.containers.find(e=>e.id===T.id);if(e){let s=JSON.parse(JSON.stringify(e));Array.isArray(s.environmentVariables)||(s.environmentVariables=[]),L(s)}else L(null)}else"database"===T.kind?(L(null),O((null==(e=z.resources)?void 0:e.database)?JSON.parse(JSON.stringify(z.resources.database)):null)):"cache"===T.kind?(L(null),I((null==(s=z.resources)?void 0:s.cache)?JSON.parse(JSON.stringify(z.resources.cache)):null)):L(null)},[T,z.containers,z.resources]);let Y=()=>!!_&&!!G&&JSON.stringify({resources:G.resources,healthCheck:G.healthCheck,exposure:G.exposure,serviceAccess:G.serviceAccess,environmentVariables:G.environmentVariables})!==JSON.stringify({resources:_.resources,healthCheck:_.healthCheck,exposure:_.exposure,serviceAccess:_.serviceAccess,environmentVariables:_.environmentVariables}),K=()=>{var e;return!!(null==(e=z.resources)?void 0:e.database)&&!!M&&JSON.stringify(M)!==JSON.stringify(z.resources.database)},W=()=>{var e;return!!(null==(e=z.resources)?void 0:e.cache)&&!!D&&JSON.stringify(D)!==JSON.stringify(z.resources.cache)};return(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,s.jsx)("div",{className:"col-span-12 lg:col-span-4 xl:col-span-3",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-4 space-y-5 sticky top-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h4",{className:"text-sm font-bold text-slate-900",children:"Applications"}),(0,s.jsx)("span",{className:"text-xs text-slate-500",children:z.containers.length})]}),(0,s.jsx)("div",{className:"space-y-2",children:z.containers.map((e,t)=>{var a;let l=(null==(a=e.imageUrl.split("/").pop())?void 0:a.split(":")[0])||"container-".concat(t+1),n="application"===T.kind&&T.id===e.id;return(0,s.jsxs)("button",{onClick:()=>U({kind:"application",id:e.id}),className:"w-full text-left px-3 py-2 rounded-lg border transition flex items-center justify-between ".concat(n?"border-purple-400 bg-purple-50":"border-slate-200 hover:border-purple-300"),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-900",children:l}),(0,s.jsxs)("div",{className:"text-xs text-slate-500",children:[e.resources.replicas.min,"/",e.resources.replicas.min," replicas"]})]}),(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded-full bg-green-100 text-green-700",children:[(0,s.jsx)("span",{className:"w-1.5 h-1.5 bg-green-600 rounded-full"}),"Running"]})]},e.id)})})]}),(null==(c=z.resources)?void 0:c.database)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-bold text-slate-900 mb-2",children:"Databases"}),(0,s.jsxs)("button",{onClick:()=>U({kind:"database"}),className:"w-full text-left px-3 py-2 rounded-lg border transition ".concat("database"===T.kind?"border-green-400 bg-green-50":"border-slate-200 hover:border-green-300"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-900",children:"PostgreSQL"}),(0,s.jsx)("span",{className:"text-xs bg-green-600 text-white px-2 py-0.5 rounded-full",children:"Connected"})]}),(0,s.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:[z.resources.database.storage," storage"]})]})]}),(null==(o=z.resources)?void 0:o.cache)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-bold text-slate-900 mb-2",children:"Caches"}),(0,s.jsxs)("button",{onClick:()=>U({kind:"cache"}),className:"w-full text-left px-3 py-2 rounded-lg border transition ".concat("cache"===T.kind?"border-red-400 bg-red-50":"border-slate-200 hover:border-red-300"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-900",children:"Redis"}),(0,s.jsx)("span",{className:"text-xs bg-red-600 text-white px-2 py-0.5 rounded-full",children:"Connected"})]}),(0,s.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:[z.resources.cache.memory," memory"]})]})]}),(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsx)("h4",{className:"text-sm font-bold text-slate-900 mb-2",children:"Documentation"}),(0,s.jsxs)("button",{onClick:()=>U({kind:"architecture"}),className:"w-full text-left px-3 py-2 rounded-lg border transition ".concat("architecture"===T.kind?"border-purple-400 bg-purple-50":"border-slate-200 hover:border-purple-300"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-900",children:[(0,s.jsx)("span",{className:"text-xl",children:"ðŸ—ï¸"}),(0,s.jsx)("span",{children:"Architecture Diagram"})]}),(0,s.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"View infrastructure topology"})]})]})]})}),(0,s.jsx)("div",{className:"col-span-12 lg:col-span-8 xl:col-span-9",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:["application"===T.kind&&_&&G&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:_.name||"Application Container"}),(0,s.jsxs)("p",{className:"text-xs text-slate-500",children:["Image: ",_.imageUrl]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>H(!0),disabled:!Y()||$,className:"px-4 py-2 rounded-lg text-sm font-medium border ".concat(Y()?"border-amber-300 text-amber-700 bg-amber-50":"border-slate-200 text-slate-400"," disabled:opacity-50"),children:"Show Changes"}),(0,s.jsx)("button",{onClick:()=>{q(!0),H(!1)},disabled:!Y()||$,className:"px-4 py-2 rounded-lg text-sm font-semibold bg-purple-600 text-white hover:bg-purple-700 disabled:opacity-50",children:$?"Applyingâ€¦":"Apply"})]})]}),"public"===_.exposure&&(()=>{var e;let t=(null==(e=_.imageUrl.split("/").pop())?void 0:e.split(":")[0])||"app",a=_.id.substring(0,6),l="".concat(t,"-").concat(a,".unhazzle.app");return(0,s.jsx)("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Public Endpoint"}),(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded-full",children:"Live"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("code",{className:"text-sm text-purple-600 font-mono",children:["https://",l]}),(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText("https://".concat(l))},className:"p-1 hover:bg-slate-200 rounded transition text-sm",title:"Copy to clipboard",children:"ðŸ“‹"})]}),(0,s.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:["Port ",_.port," â€¢ SSL Enabled â€¢ CDN Cached"]})]})})})})(),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Resources"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"CPU"}),(0,s.jsxs)("select",{value:G.resources.cpu,onChange:e=>L({...G,resources:{...G.resources,cpu:e.target.value}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"0.25",children:"0.25"}),(0,s.jsx)("option",{value:"0.5",children:"0.5"}),(0,s.jsx)("option",{value:"1",children:"1"}),(0,s.jsx)("option",{value:"2",children:"2"}),(0,s.jsx)("option",{value:"4",children:"4"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Memory"}),(0,s.jsxs)("select",{value:G.resources.memory,onChange:e=>L({...G,resources:{...G.resources,memory:e.target.value}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"0.5GB",children:"0.5GB"}),(0,s.jsx)("option",{value:"1GB",children:"1GB"}),(0,s.jsx)("option",{value:"2GB",children:"2GB"}),(0,s.jsx)("option",{value:"4GB",children:"4GB"}),(0,s.jsx)("option",{value:"8GB",children:"8GB"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Replicas (min)"}),(0,s.jsx)("input",{type:"number",min:1,value:G.resources.replicas.min,onChange:e=>L({...G,resources:{...G.resources,replicas:{...G.resources.replicas,min:Math.max(1,parseInt(e.target.value)||1)}}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Set min=max for fixed scaling. Different values enable auto-scaling."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Environment Variables"}),(0,s.jsxs)("div",{className:"space-y-3",children:[0===G.environmentVariables.length&&(0,s.jsx)("div",{className:"text-xs text-slate-500",children:"No variables defined yet."}),G.environmentVariables.map((e,t)=>(0,s.jsxs)("div",{className:"grid md:grid-cols-12 gap-3 items-start",children:[(0,s.jsxs)("div",{className:"md:col-span-4",children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Key"}),(0,s.jsx)("input",{type:"text",value:e.key,onChange:e=>{let s=[...G.environmentVariables];s[t]={...s[t],key:e.target.value},L({...G,environmentVariables:s})},placeholder:"KEY",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm font-mono"})]}),(0,s.jsxs)("div",{className:"md:col-span-6",children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Value"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:!1===e.masked?"text":"password",value:e.value,onChange:e=>{let s=[...G.environmentVariables];s[t]={...s[t],value:e.target.value},L({...G,environmentVariables:s})},placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm font-mono"}),(0,s.jsx)("button",{type:"button",onClick:()=>{let e=[...G.environmentVariables],s=!1!==e[t].masked;e[t]={...e[t],masked:!s},L({...G,environmentVariables:e})},className:"p-2 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-900","aria-label":!1===e.masked?"Hide value":"Show value",title:!1===e.masked?"Hide value":"Show value",children:!1===e.masked?(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("ellipse",{cx:"12",cy:"12",rx:"9",ry:"6"}),(0,s.jsx)("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",stroke:"none"}),(0,s.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"4"})]}):(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("ellipse",{cx:"12",cy:"12",rx:"9",ry:"6"}),(0,s.jsx)("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",stroke:"none"})]})})]})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-xs mb-1 invisible",children:"Action"}),(0,s.jsx)("button",{type:"button",onClick:()=>{let e=G.environmentVariables.filter((e,s)=>s!==t);L({...G,environmentVariables:e})},className:"w-full md:w-auto px-3 py-2 text-xs rounded-lg border border-red-300 text-red-700 hover:bg-red-50",children:"Remove"})]})]},t)),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-xs text-slate-500 flex items-center gap-2",children:[(0,s.jsx)("span",{children:"ðŸ”"}),(0,s.jsx)("span",{children:"Values are masked by default and stored encrypted."})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{let e=[...G.environmentVariables,{key:"",value:"",masked:!0}];L({...G,environmentVariables:e})},className:"px-3 py-2 text-xs rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-900",children:"+ Add variable"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Health Check"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Protocol"}),(0,s.jsxs)("select",{value:G.healthCheck.protocol,onChange:e=>L({...G,healthCheck:{...G.healthCheck,protocol:e.target.value}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"HTTP",children:"HTTP"}),(0,s.jsx)("option",{value:"TCP",children:"TCP"}),(0,s.jsx)("option",{value:"gRPC",children:"gRPC"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Port"}),(0,s.jsx)("input",{type:"number",value:G.healthCheck.port,onChange:e=>L({...G,healthCheck:{...G.healthCheck,port:parseInt(e.target.value)||G.port}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Path"}),(0,s.jsx)("input",{type:"text",value:G.healthCheck.path||"",onChange:e=>L({...G,healthCheck:{...G.healthCheck,path:e.target.value}}),placeholder:"/health",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mt-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Interval"}),(0,s.jsx)("input",{type:"text",value:G.healthCheck.interval,onChange:e=>L({...G,healthCheck:{...G.healthCheck,interval:e.target.value}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Timeout"}),(0,s.jsx)("input",{type:"text",value:G.healthCheck.timeout,onChange:e=>L({...G,healthCheck:{...G.healthCheck,timeout:e.target.value}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Retries"}),(0,s.jsx)("input",{type:"number",min:0,value:G.healthCheck.retries,onChange:e=>L({...G,healthCheck:{...G.healthCheck,retries:Math.max(0,parseInt(e.target.value)||0)}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Using recommended values."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Networking"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Visibility"}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,s.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,s.jsx)("input",{type:"radio",checked:"public"===G.exposure,onChange:()=>L({...G,exposure:"public"})}),(0,s.jsx)("span",{className:"text-slate-900",children:"Public"})]}),(0,s.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,s.jsx)("input",{type:"radio",checked:"private"===G.exposure,onChange:()=>L({...G,exposure:"private"})}),(0,s.jsx)("span",{className:"text-slate-900",children:"Private"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Domain"}),(0,s.jsx)("div",{className:"text-sm text-slate-900",children:(null==(x=z.domain)?void 0:x.customDomain)||"".concat(null==(m=z.domain)?void 0:m.defaultSubdomain,".unhazzle.app")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Port"}),(0,s.jsx)("div",{className:"text-sm font-mono text-slate-900",children:G.port})]})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Internal DNS is auto-configured."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Service Access"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:G.serviceAccess.database,onChange:e=>{let s=e.target.checked,t="UNHAZZLE_POSTGRES_URL",a=[...G.environmentVariables];s?a.some(e=>e.key===t)||a.push({key:t,value:"",masked:!1}):a=a.filter(e=>e.key!==t),L({...G,serviceAccess:{...G.serviceAccess,database:s},environmentVariables:a})}}),(0,s.jsx)("span",{className:"text-slate-900",children:"PostgreSQL"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:G.serviceAccess.cache,onChange:e=>{let s=e.target.checked,t="UNHAZZLE_REDIS_URL",a=[...G.environmentVariables];s?a.some(e=>e.key===t)||a.push({key:t,value:"",masked:!1}):a=a.filter(e=>e.key!==t),L({...G,serviceAccess:{...G.serviceAccess,cache:s},environmentVariables:a})}}),(0,s.jsx)("span",{className:"text-slate-900",children:"Redis"})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Connection strings are auto-injected as environment variables."})]})]}),V&&(0,s.jsxs)("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h5",{className:"font-semibold text-amber-900",children:"ðŸ“ Pending Changes"}),(0,s.jsx)("button",{onClick:()=>H(!1),className:"text-xs text-amber-700 underline",children:"Hide"})]}),(0,s.jsxs)("ul",{className:"text-sm text-amber-900 list-disc ml-5 space-y-1",children:[_.resources.cpu!==G.resources.cpu&&(0,s.jsxs)("li",{children:["CPU: ",_.resources.cpu," â†’ ",G.resources.cpu]}),_.resources.memory!==G.resources.memory&&(0,s.jsxs)("li",{children:["Memory: ",_.resources.memory," â†’ ",G.resources.memory]}),_.resources.replicas.min!==G.resources.replicas.min&&(0,s.jsxs)("li",{children:["Replicas (min): ",_.resources.replicas.min," â†’ ",G.resources.replicas.min]}),_.healthCheck.protocol!==G.healthCheck.protocol&&(0,s.jsxs)("li",{children:["Health Check Protocol: ",_.healthCheck.protocol," â†’ ",G.healthCheck.protocol]}),_.healthCheck.port!==G.healthCheck.port&&(0,s.jsxs)("li",{children:["Health Check Port: ",_.healthCheck.port," â†’ ",G.healthCheck.port]}),(_.healthCheck.path||"")!==(G.healthCheck.path||"")&&(0,s.jsxs)("li",{children:["Health Check Path: ",_.healthCheck.path||"â€”"," â†’ ",G.healthCheck.path||"â€”"]}),_.exposure!==G.exposure&&(0,s.jsxs)("li",{children:["Visibility: ",_.exposure," â†’ ",G.exposure]}),_.serviceAccess.database!==G.serviceAccess.database&&(0,s.jsxs)("li",{children:["PostgreSQL access: ",_.serviceAccess.database?"On":"Off"," â†’ ",G.serviceAccess.database?"On":"Off"]}),_.serviceAccess.cache!==G.serviceAccess.cache&&(0,s.jsxs)("li",{children:["Redis access: ",_.serviceAccess.cache?"On":"Off"," â†’ ",G.serviceAccess.cache?"On":"Off"]}),JSON.stringify(_.environmentVariables)!==JSON.stringify(G.environmentVariables)&&(0,s.jsx)("li",{children:"Environment variables updated"})]}),(0,s.jsx)("div",{className:"text-xs text-amber-800 mt-3",children:"Impact: CPU/RAM changes require rolling restart. Estimated duration: ~2 minutes. Zero-downtime ensured."})]})]}),"database"===T.kind&&M&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:"PostgreSQL Database"}),(0,s.jsxs)("p",{className:"text-xs text-slate-500",children:["Managed ",M.engine," instance"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>H(!0),disabled:!K()||$,className:"px-4 py-2 rounded-lg text-sm font-medium border ".concat(K()?"border-amber-300 text-amber-700 bg-amber-50":"border-slate-200 text-slate-400"," disabled:opacity-50"),children:"Show Changes"}),(0,s.jsx)("button",{onClick:()=>{q(!0),H(!1)},disabled:!K()||$,className:"px-4 py-2 rounded-lg text-sm font-semibold bg-purple-600 text-white hover:bg-purple-700 disabled:opacity-50",children:$?"Applyingâ€¦":"Apply"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Connection URL"}),(0,s.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4 font-mono text-xs text-green-400 flex items-center justify-between",children:[(0,s.jsxs)("code",{className:"break-all",children:["postgres://unhazzle_user:***@db-prod-",(null==(h=z.domain)?void 0:h.defaultSubdomain)||"app",".internal:5432/main"]}),(0,s.jsx)("button",{onClick:()=>{var e;navigator.clipboard.writeText("postgres://unhazzle_user:secret@db-prod-".concat((null==(e=z.domain)?void 0:e.defaultSubdomain)||"app",".internal:5432/main")),alert("Connection URL copied to clipboard!")},className:"ml-3 px-3 py-1 bg-purple-600 text-white text-xs rounded hover:bg-purple-700 flex-shrink-0",children:"Copy"})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Injected as DATABASE_URL environment variable."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Resources"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"CPU"}),(0,s.jsxs)("select",{value:M.cpu,onChange:e=>O({...M,cpu:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"0.5",children:"0.5"}),(0,s.jsx)("option",{value:"1",children:"1"}),(0,s.jsx)("option",{value:"2",children:"2"}),(0,s.jsx)("option",{value:"4",children:"4"}),(0,s.jsx)("option",{value:"8",children:"8"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Memory"}),(0,s.jsxs)("select",{value:M.memory,onChange:e=>O({...M,memory:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"1GB",children:"1GB"}),(0,s.jsx)("option",{value:"2GB",children:"2GB"}),(0,s.jsx)("option",{value:"4GB",children:"4GB"}),(0,s.jsx)("option",{value:"8GB",children:"8GB"}),(0,s.jsx)("option",{value:"16GB",children:"16GB"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Storage"}),(0,s.jsxs)("select",{value:M.storage,onChange:e=>O({...M,storage:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"10GB",children:"10GB"}),(0,s.jsx)("option",{value:"20GB",children:"20GB"}),(0,s.jsx)("option",{value:"50GB",children:"50GB"}),(0,s.jsx)("option",{value:"100GB",children:"100GB"}),(0,s.jsx)("option",{value:"200GB",children:"200GB"}),(0,s.jsx)("option",{value:"500GB",children:"500GB"})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Backups"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Frequency"}),(0,s.jsxs)("select",{value:M.backups.frequency,onChange:e=>O({...M,backups:{...M.backups,frequency:e.target.value}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"hourly",children:"Hourly"}),(0,s.jsx)("option",{value:"daily",children:"Daily"}),(0,s.jsx)("option",{value:"weekly",children:"Weekly"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Retention"}),(0,s.jsxs)("select",{value:M.backups.retention,onChange:e=>O({...M,backups:{...M.backups,retention:e.target.value}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"7 days",children:"7 days"}),(0,s.jsx)("option",{value:"14 days",children:"14 days"}),(0,s.jsx)("option",{value:"30 days",children:"30 days"}),(0,s.jsx)("option",{value:"90 days",children:"90 days"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Enabled"}),(0,s.jsxs)("label",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:M.backups.enabled,onChange:e=>O({...M,backups:{...M.backups,enabled:e.target.checked}})}),(0,s.jsx)("span",{className:"text-sm text-slate-900",children:"Automatic backups"})]})]})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Point-in-time recovery available for all plans."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"High Availability"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Replicas"}),(0,s.jsxs)("select",{value:M.replicas,onChange:e=>O({...M,replicas:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"none",children:"None (Single instance)"}),(0,s.jsx)("option",{value:"1",children:"1 Standby Replica"}),(0,s.jsx)("option",{value:"2",children:"2 Standby Replicas"})]})]}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsx)("div",{className:"text-xs text-slate-600",children:(0,s.jsx)("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-800 rounded",children:"âœ“ Connection pooling enabled"})})})]})]}),V&&(0,s.jsxs)("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h5",{className:"font-semibold text-amber-900",children:"ðŸ“ Pending Changes"}),(0,s.jsx)("button",{onClick:()=>H(!1),className:"text-xs text-amber-700 underline",children:"Hide"})]}),(0,s.jsxs)("ul",{className:"text-sm text-amber-900 list-disc ml-5 space-y-1",children:[(null==(u=z.resources)?void 0:u.database)&&M.cpu!==z.resources.database.cpu&&(0,s.jsxs)("li",{children:["CPU: ",z.resources.database.cpu," â†’ ",M.cpu]}),(null==(p=z.resources)?void 0:p.database)&&M.memory!==z.resources.database.memory&&(0,s.jsxs)("li",{children:["Memory: ",z.resources.database.memory," â†’ ",M.memory]}),(null==(b=z.resources)?void 0:b.database)&&M.storage!==z.resources.database.storage&&(0,s.jsxs)("li",{children:["Storage: ",z.resources.database.storage," â†’ ",M.storage]}),(null==(j=z.resources)?void 0:j.database)&&M.backups.frequency!==z.resources.database.backups.frequency&&(0,s.jsxs)("li",{children:["Backup frequency: ",z.resources.database.backups.frequency," â†’ ",M.backups.frequency]}),(null==(v=z.resources)?void 0:v.database)&&M.backups.retention!==z.resources.database.backups.retention&&(0,s.jsxs)("li",{children:["Backup retention: ",z.resources.database.backups.retention," â†’ ",M.backups.retention]}),(null==(g=z.resources)?void 0:g.database)&&M.replicas!==z.resources.database.replicas&&(0,s.jsxs)("li",{children:["Replicas: ",z.resources.database.replicas," â†’ ",M.replicas]})]}),(0,s.jsx)("div",{className:"text-xs text-amber-800 mt-3",children:"Impact: Storage changes are instant. CPU/Memory changes require brief maintenance window (~3 min). Zero data loss guaranteed."})]})]}),"cache"===T.kind&&D&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:"Redis Cache"}),(0,s.jsxs)("p",{className:"text-xs text-slate-500",children:["Managed ",D.engine," instance"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>H(!0),disabled:!W()||$,className:"px-4 py-2 rounded-lg text-sm font-medium border ".concat(W()?"border-amber-300 text-amber-700 bg-amber-50":"border-slate-200 text-slate-400"," disabled:opacity-50"),children:"Show Changes"}),(0,s.jsx)("button",{onClick:()=>{q(!0),H(!1)},disabled:!W()||$,className:"px-4 py-2 rounded-lg text-sm font-semibold bg-purple-600 text-white hover:bg-purple-700 disabled:opacity-50",children:$?"Applyingâ€¦":"Apply"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Connection URL"}),(0,s.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4 font-mono text-xs text-green-400 flex items-center justify-between",children:[(0,s.jsxs)("code",{className:"break-all",children:["redis://:***@redis-prod-",(null==(N=z.domain)?void 0:N.defaultSubdomain)||"app",".internal:6379/0"]}),(0,s.jsx)("button",{onClick:()=>{var e;navigator.clipboard.writeText("redis://:secret@redis-prod-".concat((null==(e=z.domain)?void 0:e.defaultSubdomain)||"app",".internal:6379/0")),alert("Connection URL copied to clipboard!")},className:"ml-3 px-3 py-1 bg-purple-600 text-white text-xs rounded hover:bg-purple-700 flex-shrink-0",children:"Copy"})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Injected as REDIS_URL environment variable."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Resources"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Memory"}),(0,s.jsxs)("select",{value:D.memory,onChange:e=>I({...D,memory:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"256MB",children:"256MB"}),(0,s.jsx)("option",{value:"512MB",children:"512MB"}),(0,s.jsx)("option",{value:"1GB",children:"1GB"}),(0,s.jsx)("option",{value:"2GB",children:"2GB"}),(0,s.jsx)("option",{value:"4GB",children:"4GB"}),(0,s.jsx)("option",{value:"8GB",children:"8GB"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Version"}),(0,s.jsxs)("select",{value:D.version,onChange:e=>I({...D,version:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"7.2",children:"7.2 (Latest)"}),(0,s.jsx)("option",{value:"7.0",children:"7.0"}),(0,s.jsx)("option",{value:"6.2",children:"6.2"})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Configuration"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Eviction Policy"}),(0,s.jsxs)("select",{value:D.evictionPolicy,onChange:e=>I({...D,evictionPolicy:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"allkeys-lru",children:"allkeys-lru (Recommended)"}),(0,s.jsx)("option",{value:"volatile-lru",children:"volatile-lru"}),(0,s.jsx)("option",{value:"allkeys-lfu",children:"allkeys-lfu"}),(0,s.jsx)("option",{value:"volatile-lfu",children:"volatile-lfu"}),(0,s.jsx)("option",{value:"noeviction",children:"noeviction"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Persistence"}),(0,s.jsxs)("select",{value:D.persistence,onChange:e=>I({...D,persistence:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"aof",children:"AOF (Append-only file)"}),(0,s.jsx)("option",{value:"rdb",children:"RDB (Snapshots)"}),(0,s.jsx)("option",{value:"both",children:"Both (AOF + RDB)"}),(0,s.jsx)("option",{value:"none",children:"None (In-memory only)"})]})]})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"AOF persistence recommended for durability."})]}),V&&(0,s.jsxs)("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h5",{className:"font-semibold text-amber-900",children:"ðŸ“ Pending Changes"}),(0,s.jsx)("button",{onClick:()=>H(!1),className:"text-xs text-amber-700 underline",children:"Hide"})]}),(0,s.jsxs)("ul",{className:"text-sm text-amber-900 list-disc ml-5 space-y-1",children:[(null==(f=z.resources)?void 0:f.cache)&&D.memory!==z.resources.cache.memory&&(0,s.jsxs)("li",{children:["Memory: ",z.resources.cache.memory," â†’ ",D.memory]}),(null==(y=z.resources)?void 0:y.cache)&&D.version!==z.resources.cache.version&&(0,s.jsxs)("li",{children:["Version: ",z.resources.cache.version," â†’ ",D.version]}),(null==(k=z.resources)?void 0:k.cache)&&D.evictionPolicy!==z.resources.cache.evictionPolicy&&(0,s.jsxs)("li",{children:["Eviction Policy: ",z.resources.cache.evictionPolicy," â†’ ",D.evictionPolicy]}),(null==(w=z.resources)?void 0:w.cache)&&D.persistence!==z.resources.cache.persistence&&(0,s.jsxs)("li",{children:["Persistence: ",z.resources.cache.persistence," â†’ ",D.persistence]})]}),(0,s.jsx)("div",{className:"text-xs text-amber-800 mt-3",children:"Impact: Memory changes require restart (~30 sec). Data persisted if AOF/RDB enabled."})]})]}),"architecture"===T.kind&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-slate-900 mb-2 flex items-center gap-2",children:[(0,s.jsx)("span",{children:"ðŸ—ï¸"}),(0,s.jsx)("span",{children:"Architecture Diagram"})]}),(0,s.jsx)("p",{className:"text-slate-600",children:"Visual representation of your deployed infrastructure, including container connections and internal DNS."})]}),(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:"â„¹ï¸"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-blue-900 font-semibold mb-1",children:"Read-Only Reference"}),(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:["This diagram shows your ",(0,s.jsx)("strong",{children:"deployed"})," infrastructure. To edit resources, use the configuration panels in the left sidebar."]})]})]})}),(0,s.jsx)(d,{state:z}),(0,s.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,s.jsx)("span",{children:"ðŸ”—"}),(0,s.jsx)("span",{children:"Internal DNS Names"})]}),(0,s.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,s.jsx)("p",{className:"text-slate-600 mb-4",children:"Use these hostnames for container-to-container communication:"}),z.containers.map((e,t)=>{var a;let l=(null==(a=e.imageUrl.split("/").pop())?void 0:a.split(":")[0])||"container-".concat(t+1),n=e.serviceName||"container-".concat(e.id.substring(0,8));return(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-slate-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-lg",children:"ðŸš€"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-semibold text-slate-900",children:["Container ",t+1]}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:l})]})]}),(0,s.jsxs)("code",{className:"bg-white px-3 py-1 rounded border border-slate-300 font-mono text-xs",children:[n,".internal"]})]},e.id)}),(null==(C=z.resources)?void 0:C.database)&&(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-slate-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-lg",children:"ðŸ˜"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-slate-900",children:"PostgreSQL Database"}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Internal network only"})]})]}),(0,s.jsx)("code",{className:"bg-white px-3 py-1 rounded border border-slate-300 font-mono text-xs",children:"postgres.internal"})]}),(null==(S=z.resources)?void 0:S.cache)&&(0,s.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-lg",children:"âš¡"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-slate-900",children:"Redis Cache"}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Internal network only"})]})]}),(0,s.jsx)("code",{className:"bg-white px-3 py-1 rounded border border-slate-300 font-mono text-xs",children:"redis.internal"})]})]}),(0,s.jsxs)("div",{className:"mt-6 bg-white border border-slate-300 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-slate-700 mb-2",children:"Example Connection String:"}),(0,s.jsx)("code",{className:"text-xs font-mono text-slate-900 block",children:"postgresql://user:pass@postgres.internal:5432/dbname"})]})]})]})]})}),F&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:"âš ï¸"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Apply Configuration Changes?"}),"application"===T.kind&&_&&G&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"text-sm text-slate-700 mb-4",children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:"Summary:"}),(0,s.jsxs)("p",{className:"text-slate-600",children:["Container: ",(0,s.jsx)("span",{className:"font-mono",children:_.name||(null==(A=_.imageUrl.split("/").pop())?void 0:A.split(":")[0])})]}),(0,s.jsxs)("ul",{className:"list-disc ml-5 mt-2 space-y-1 text-slate-600",children:[_.resources.cpu!==G.resources.cpu&&(0,s.jsxs)("li",{children:["CPU: ",_.resources.cpu," â†’ ",G.resources.cpu," cores"]}),_.resources.memory!==G.resources.memory&&(0,s.jsxs)("li",{children:["Memory: ",_.resources.memory," â†’ ",G.resources.memory]}),_.resources.replicas.min!==G.resources.replicas.min&&(0,s.jsxs)("li",{children:["Min replicas: ",_.resources.replicas.min," â†’ ",G.resources.replicas.min]}),JSON.stringify(_.environmentVariables)!==JSON.stringify(G.environmentVariables)&&(0,s.jsx)("li",{children:"Environment variables updated"})]})]}),(0,s.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2 text-sm",children:[(0,s.jsx)("p",{className:"font-medium text-slate-900",children:"Impact Assessment:"}),(0,s.jsx)("p",{className:"text-slate-600",children:"âš ï¸ Rolling restart required"}),(0,s.jsx)("p",{className:"text-slate-600",children:"â±ï¸ Estimated time: ~2 minutes"}),(0,s.jsx)("p",{className:"text-slate-600",children:"âœ… No expected traffic disruption"}),(()=>{let e=function(e,s,t,a,l,r){let i=n(t,e,s);return Math.round((n(r,a,l)-i)*100)/100}(_.resources.cpu,_.resources.memory,_.resources.replicas,G.resources.cpu,G.resources.memory,G.resources.replicas);return 0!==e?(0,s.jsxs)("p",{className:"text-slate-600 font-medium",children:["ðŸ“Š Cost impact: ",e>0?"+":"","â‚¬",Math.abs(e),"/month"]}):null})()]})]}),"database"===T.kind&&(null==(E=z.resources)?void 0:E.database)&&M&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"text-sm text-slate-700 mb-4",children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:"Summary:"}),(0,s.jsxs)("p",{className:"text-slate-600",children:["Resource: ",(0,s.jsx)("span",{className:"font-mono",children:"PostgreSQL Database"})]}),(0,s.jsxs)("ul",{className:"list-disc ml-5 mt-2 space-y-1 text-slate-600",children:[z.resources.database.cpu!==M.cpu&&(0,s.jsxs)("li",{children:["CPU: ",z.resources.database.cpu," â†’ ",M.cpu," cores"]}),z.resources.database.memory!==M.memory&&(0,s.jsxs)("li",{children:["Memory: ",z.resources.database.memory," â†’ ",M.memory]}),z.resources.database.storage!==M.storage&&(0,s.jsxs)("li",{children:["Storage: ",z.resources.database.storage," â†’ ",M.storage]}),z.resources.database.replicas!==M.replicas&&(0,s.jsxs)("li",{children:["Replicas: ",z.resources.database.replicas," â†’ ",M.replicas]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2 text-sm",children:[(0,s.jsx)("p",{className:"font-medium text-slate-900",children:"Impact Assessment:"}),(0,s.jsx)("p",{className:"text-slate-600",children:"âš ï¸ Maintenance window required for CPU/Memory changes"}),(0,s.jsx)("p",{className:"text-slate-600",children:"â±ï¸ Estimated time: ~3 minutes"}),(0,s.jsx)("p",{className:"text-slate-600",children:"âœ… Zero data loss guaranteed"}),(()=>{let e=function(e,s){let t=r(e.cpu,e.memory,e.storage,e.replicas);return Math.round((r(s.cpu,s.memory,s.storage,s.replicas)-t)*100)/100}(z.resources.database,M);return 0!==e?(0,s.jsxs)("p",{className:"text-slate-600 font-medium",children:["ðŸ“Š Cost impact: ",e>0?"+":"","â‚¬",Math.abs(e),"/month"]}):null})()]})]}),"cache"===T.kind&&(null==(R=z.resources)?void 0:R.cache)&&D&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"text-sm text-slate-700 mb-4",children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:"Summary:"}),(0,s.jsxs)("p",{className:"text-slate-600",children:["Resource: ",(0,s.jsx)("span",{className:"font-mono",children:"Redis Cache"})]}),(0,s.jsxs)("ul",{className:"list-disc ml-5 mt-2 space-y-1 text-slate-600",children:[z.resources.cache.memory!==D.memory&&(0,s.jsxs)("li",{children:["Memory: ",z.resources.cache.memory," â†’ ",D.memory]}),z.resources.cache.version!==D.version&&(0,s.jsxs)("li",{children:["Version: ",z.resources.cache.version," â†’ ",D.version]}),z.resources.cache.evictionPolicy!==D.evictionPolicy&&(0,s.jsxs)("li",{children:["Eviction policy: ",z.resources.cache.evictionPolicy," â†’ ",D.evictionPolicy]}),z.resources.cache.persistence!==D.persistence&&(0,s.jsxs)("li",{children:["Persistence: ",z.resources.cache.persistence," â†’ ",D.persistence]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2 text-sm",children:[(0,s.jsx)("p",{className:"font-medium text-slate-900",children:"Impact Assessment:"}),(0,s.jsx)("p",{className:"text-slate-600",children:"âš ï¸ Restart required (~30 seconds)"}),(0,s.jsx)("p",{className:"text-slate-600",children:"âœ… Data persisted if AOF/RDB enabled"}),(()=>{let e=function(e,s){let t=i(e);return Math.round((i(s)-t)*100)/100}(z.resources.cache.memory,D.memory);return 0!==e?(0,s.jsxs)("p",{className:"text-slate-600 font-medium",children:["ðŸ“Š Cost impact: ",e>0?"+":"","â‚¬",Math.abs(e),"/month"]}):null})()]})]}),(0,s.jsx)("p",{className:"text-sm text-slate-600 mt-4",children:"Are you sure you want to apply these changes?"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[(0,s.jsx)("button",{onClick:()=>q(!1),className:"px-5 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50 font-medium",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{"application"===T.kind?_&&G&&(q(!1),J(!0),setTimeout(()=>{P(_.id,{resources:G.resources,healthCheck:G.healthCheck,exposure:G.exposure,serviceAccess:G.serviceAccess,environmentVariables:G.environmentVariables}),J(!1)},800)):"database"===T.kind?(()=>{if(!M||!z.resources)return;let e=z.resources;q(!1),J(!0),setTimeout(()=>{B({replicas:e.replicas,cpu:e.cpu,memory:e.memory,database:M,cache:e.cache}),J(!1)},800)})():"cache"===T.kind&&(()=>{if(!D||!z.resources)return;let e=z.resources;q(!1),J(!0),setTimeout(()=>{B({replicas:e.replicas,cpu:e.cpu,memory:e.memory,database:e.database,cache:D}),J(!1)},800)})()},className:"px-5 py-2 rounded-lg bg-purple-600 text-white hover:bg-purple-700 font-medium",children:"Apply Changes"})]})]})})]})}function d(e){var t,a,l,n;let{state:r}=e,i=r.containers.filter(e=>"public"===e.exposure),c=r.containers.filter(e=>"private"===e.exposure),o=i.length>0,d=(null==(t=r.resources)?void 0:t.database)!==null,x=(null==(a=r.resources)?void 0:a.cache)!==null,m=e=>{var s;return(null==(s=e.split("/").pop())?void 0:s.split(":")[0])||"container"},h=e=>e.serviceName||"container-".concat(e.id.substring(0,8));return(0,s.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-8 border border-slate-200",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-8",children:[o&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-purple-500 text-white rounded-lg p-6 shadow-lg text-center min-w-[200px]",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"âš–ï¸"}),(0,s.jsx)("div",{className:"font-bold",children:"Load Balancer"}),(0,s.jsx)("div",{className:"text-sm opacity-90 mt-1",children:(null==(l=r.domain)?void 0:l.customDomain)||"".concat(null==(n=r.domain)?void 0:n.defaultSubdomain,".unhazzle.io")})]}),(0,s.jsx)("div",{className:"text-slate-400",children:(0,s.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",children:[(0,s.jsx)("line",{x1:"20",y1:"0",x2:"20",y2:"30",stroke:"currentColor",strokeWidth:"3"}),(0,s.jsx)("polygon",{points:"20,40 15,30 25,30",fill:"currentColor"})]})})]}),i.length>0&&(0,s.jsx)("div",{className:"flex gap-6 flex-wrap justify-center",children:i.map((e,t)=>{let a=m(e.imageUrl),l=h(e),n=r.containers.indexOf(e)+1;return(0,s.jsxs)("div",{className:"bg-blue-500 text-white rounded-lg p-4 shadow-lg text-center min-w-[160px]",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:"ðŸš€"}),(0,s.jsxs)("div",{className:"font-bold text-sm",children:["Container ",n]}),(0,s.jsx)("div",{className:"text-xs opacity-90 mt-1",children:a}),(0,s.jsxs)("div",{className:"text-xs opacity-75 mt-2",children:[":",e.port]}),(0,s.jsxs)("div",{className:"text-xs font-mono bg-blue-600 rounded px-2 py-1 mt-2",children:[l,".internal"]})]},e.id)})}),c.length>0&&(0,s.jsxs)(s.Fragment,{children:[i.length>0&&(0,s.jsx)("div",{className:"text-slate-400 text-sm",children:"Internal Network"}),(0,s.jsx)("div",{className:"flex gap-6 flex-wrap justify-center",children:c.map((e,t)=>{let a=m(e.imageUrl),l=h(e),n=r.containers.indexOf(e)+1;return(0,s.jsxs)("div",{className:"bg-slate-500 text-white rounded-lg p-4 shadow-lg text-center min-w-[160px]",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:"ðŸ”’"}),(0,s.jsxs)("div",{className:"font-bold text-sm",children:["Container ",n]}),(0,s.jsx)("div",{className:"text-xs opacity-90 mt-1",children:a}),(0,s.jsxs)("div",{className:"text-xs opacity-75 mt-2",children:[":",e.port]}),(0,s.jsxs)("div",{className:"text-xs font-mono bg-slate-600 rounded px-2 py-1 mt-2",children:[l,".internal"]})]},e.id)})})]}),(d||x)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-slate-400 text-sm",children:"Backend Services"}),(0,s.jsxs)("div",{className:"flex gap-6",children:[d&&(0,s.jsxs)("div",{className:"bg-green-500 text-white rounded-lg p-4 shadow-lg text-center min-w-[160px]",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:"ðŸ˜"}),(0,s.jsx)("div",{className:"font-bold text-sm",children:"PostgreSQL"}),(0,s.jsxs)("div",{className:"text-xs opacity-90 mt-1",children:[r.resources.database.cpu," CPU"]}),(0,s.jsx)("div",{className:"text-xs font-mono bg-green-600 rounded px-2 py-1 mt-2",children:"postgres.internal"})]}),x&&(0,s.jsxs)("div",{className:"bg-red-500 text-white rounded-lg p-4 shadow-lg text-center min-w-[160px]",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:"âš¡"}),(0,s.jsx)("div",{className:"font-bold text-sm",children:"Redis"}),(0,s.jsxs)("div",{className:"text-xs opacity-90 mt-1",children:[r.resources.cache.memory," RAM"]}),(0,s.jsx)("div",{className:"text-xs font-mono bg-red-600 rounded px-2 py-1 mt-2",children:"redis.internal"})]})]})]})]}),(0,s.jsxs)("div",{className:"mt-8 pt-6 border-t border-slate-300 flex flex-wrap gap-4 justify-center text-sm",children:[o&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-purple-500 rounded"}),(0,s.jsx)("span",{className:"text-slate-700",children:"Public Internet"})]}),i.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded"}),(0,s.jsx)("span",{className:"text-slate-700",children:"Public Container"})]}),c.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-slate-500 rounded"}),(0,s.jsx)("span",{className:"text-slate-700",children:"Private Container"})]}),d&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded"}),(0,s.jsx)("span",{className:"text-slate-700",children:"Database"})]}),x&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded"}),(0,s.jsx)("span",{className:"text-slate-700",children:"Cache"})]})]})]})}function x(e){var s,t,a,l,n,r,i,c,o,d,x,m,h,u,p;let b=(null==(s=e.questionnaire)?void 0:s.appType)||"web",j=null==(t=e.resources)?void 0:t.database,v=null==(a=e.resources)?void 0:a.cache;null==(l=e.environment)||l.autogenerated;let g=(null==(n=e.environment)?void 0:n.userSecrets)||{},N="environment:\n";j&&(N+="  DATABASE_URL: ${{ secrets.DATABASE_URL }}\n"),v&&(N+="  REDIS_URL: ${{ secrets.REDIS_URL }}\n"),Object.keys(g).length>0&&Object.keys(g).forEach(e=>{N+="  ".concat(e,": ${{ secrets.").concat(e," }}\n")}),"ecommerce"===b?(N+="  NODE_ENV: production\n",N+="  STRIPE_PUBLIC_KEY: ${{ secrets.STRIPE_PUBLIC_KEY }}\n",N+="  STRIPE_SECRET_KEY: ${{ secrets.STRIPE_SECRET_KEY }}\n",N+="  STRIPE_WEBHOOK_SECRET: ${{ secrets.STRIPE_WEBHOOK_SECRET }}\n",N+="  NEXTAUTH_URL: https://".concat((null==(m=e.domain)?void 0:m.customDomain)||(null==(h=e.domain)?void 0:h.defaultSubdomain),"\n"),N+="  NEXTAUTH_SECRET: ${{ secrets.NEXTAUTH_SECRET }}\n"):"saas"===b?(N+="  NODE_ENV: production\n",N+="  API_KEY: ${{ secrets.API_KEY }}\n",N+="  JWT_SECRET: ${{ secrets.JWT_SECRET }}\n",N+="  APP_URL: https://".concat((null==(u=e.domain)?void 0:u.customDomain)||(null==(p=e.domain)?void 0:p.defaultSubdomain),"\n")):(N+="  NODE_ENV: production\n",N+="  LOG_LEVEL: info\n");let f="";return e.containers&&e.containers.length>0&&(f="containers:\n",e.containers.forEach((e,s)=>{var t;let a=(null==(t=e.imageUrl.split("/").pop())?void 0:t.split(":")[0])||"container-".concat(s+1);f+="  - name: ".concat(a,"\n"),f+="    image: ".concat(e.imageUrl,"\n"),f+="    port: ".concat(e.port,"\n"),f+="    exposure: ".concat(e.exposure,"\n"),f+="    resources:\n",f+="      cpu: ".concat(e.resources.cpu,"\n"),f+="      memory: ".concat(e.resources.memory,"\n"),f+="      replicas:\n",f+="        min: ".concat(e.resources.replicas.min,"\n"),f+="        max: ".concat(e.resources.replicas.max,"\n"),e.volume&&(f+="    volume:\n",f+="      mount_path: ".concat(e.volume.mountPath,"\n"),f+="      size: ".concat(e.volume.sizeGB,"GB\n"),f+="      auto_scale: ".concat(e.volume.autoScale,"\n"),f+="      backup_frequency: ".concat(e.volume.backupFrequency,"\n"),f+="      delete_with_container: ".concat(e.volume.deleteWithContainer,"\n")),f+="\n"})),"# Unhazzle Deployment Configuration\n# Generated from your application setup\n# Reference: https://docs.unhazzle.io/yaml-config\n\nproject: ".concat((null==(i=e.user)||null==(r=i.name)?void 0:r.toLowerCase().replace(/\s+/g,"-"))||"my-app","\nenvironment: production\n\ndomain: ").concat((null==(c=e.domain)?void 0:c.customDomain)||(null==(o=e.domain)?void 0:o.defaultSubdomain)||"your-app.unhazzle.io","\nssl: true  # Auto-provisioned with Let's Encrypt\n\n").concat(f).concat(j?"services:\n  database:\n    type: ".concat(e.resources.database.engine,'\n    version: "').concat("postgres"===e.resources.database.engine?"16":"8.0",'"\n    cpu: ').concat(e.resources.database.cpu,"\n    memory: ").concat(e.resources.database.memory,"\n    storage: ").concat(e.resources.database.storage,'\n    backups:\n      enabled: true\n      retention_days: 30\n      frequency: daily\n      time: "02:00"  # 2 AM UTC\n    ha_replica: true\n    connection_pooling: true\n'):"services: {}  # No database services\n","\n").concat(v?"  cache:\n    type: ".concat(e.resources.cache.engine,'\n    version: "').concat("redis"===e.resources.cache.engine?"7.2":"latest",'"\n    memory: ').concat(e.resources.cache.memory,"\n    persistence: true\n    eviction_policy: allkeys-lru\n"):"","\n\n").concat(N,"\n\n# Monitoring and alerting\nmonitoring:\n  enabled: true\n  metrics_retention: 90d\n  alerts:\n    - name: high_cpu\n      threshold: 85%\n      duration: 5m\n    - name: high_memory\n      threshold: 90%\n      duration: 5m\n    - name: deployment_failure\n      threshold: any\n      duration: 1m\n\n# Security\nsecurity:\n  auto_https: true\n  hsts_enabled: true\n  cors_origins:\n    - https://").concat((null==(d=e.domain)?void 0:d.customDomain)||(null==(x=e.domain)?void 0:x.defaultSubdomain),"\n\n# For more information, visit: https://docs.unhazzle.io/yaml-configuration\n")}function m(){return"name: Deploy to Unhazzle\n\non:\n  push:\n    branches:\n      - main\n    paths:\n      - 'unhazzle.yaml'\n      - 'src/**'\n      - 'package.json'\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    \n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v4\n      \n      - name: Install Unhazzle CLI\n        run: npm install -g @unhazzle/cli\n      \n      - name: Authenticate with Unhazzle\n        env:\n          UNHAZZLE_TOKEN: ${{ secrets.UNHAZZLE_TOKEN }}\n        run: unhazzle auth token $UNHAZZLE_TOKEN\n      \n      - name: Deploy application\n        run: unhazzle deploy --config unhazzle.yaml\n      \n      - name: Wait for deployment\n        run: unhazzle status --wait\n\n      - name: Run health checks\n        run: unhazzle health-check\n\n      - name: Comment PR with deployment info\n        uses: actions/github-script@v7\n        if: github.event_name == 'pull_request'\n        with:\n          script: |\n            const deploymentStatus = await exec('unhazzle status --json');\n            github.rest.issues.createComment({\n              issue_number: context.issue.number,\n              owner: context.repo.owner,\n              repo: context.repo.repo,\n              body: `âœ… Deployed to Unhazzle!\n\nView your app: https://app.unhazzle.io`\n            });\n"}}]);