(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78928,e=>{"use strict";e.s(["default",()=>v],78928);var s=e.i(43476),t=e.i(71645),a=e.i(18566),l=e.i(23312);function n(e,s,t){let a,l=parseFloat(s),n=parseFloat(t);return a=l<=1&&n<=2?4.99:l<=2&&n<=4?5.49:l<=4&&n<=8?9.49:17.49,Math.round(Math.ceil((e.min+e.max)/2/2)*a)}function r(e,s,t,a){let l,n,r=parseFloat(e),i=parseFloat(s);return l=t.includes("TB")?1e3*parseFloat(t):parseFloat(t),n=r<=1&&i<=2?4.99:r<=2&&i<=4?5.49:r<=4&&i<=8?9.49:r<=8&&i<=16?17.49:34.49,(a.includes("HA")||a.includes("Multi-region"))&&(n*=2),Math.round((n+.044*l)*100)/100}function i(e){let s=parseFloat(e.replace("MB","").replace("GB",""))*(e.includes("GB")?1024:1);return s<1024?0:s<=2048?4.99:5.49}function c(e,s,t,a,l,r){let i=n(t,e,s);return Math.round((n(r,a,l)-i)*100)/100}function d(e,s){let t=r(e.cpu,e.memory,e.storage,e.replicas);return Math.round((r(s.cpu,s.memory,s.storage,s.replicas)-t)*100)/100}function o(e,s){let t=i(e);return Math.round((i(s)-t)*100)/100}function x(e){let{project:a,selected:l,onSelect:n}=e,[r,i]=(0,t.useState)(null),[,c]=(0,t.useState)(0);(0,t.useEffect)(()=>{let e=setInterval(()=>{c(e=>e+1)},6e4);return()=>clearInterval(e)},[]);let d=e=>"provisioning"===e.status?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:[(0,s.jsx)("span",{className:"w-1.5 h-1.5 bg-yellow-600 rounded-full animate-pulse"}),"Provisioning"]}):"paused"===e.status?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-amber-100 text-amber-700 text-xs rounded-full",children:[(0,s.jsx)("span",{className:"w-1.5 h-1.5 bg-amber-600 rounded-full"}),"Paused"]}):"deleting"===e.status?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-red-100 text-red-700 text-xs rounded-full",children:[(0,s.jsx)("span",{className:"w-1.5 h-1.5 bg-red-600 rounded-full"}),"Deleting"]}):"deleted"===e.status||"expired"===e.status?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-slate-100 text-slate-700 text-xs rounded-full",children:[(0,s.jsx)("span",{className:"w-1.5 h-1.5 bg-slate-600 rounded-full"}),"expired"===e.status?"Expired":"Deleted"]}):(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:[(0,s.jsx)("span",{className:"w-1.5 h-1.5 bg-green-600 rounded-full"}),"Live"]}),o=a.environments.filter(e=>"deleted"!==e.status&&"expired"!==e.status),x=o.filter(e=>"standard"===e.type),m=o.filter(e=>"pr"===e.type);return(0,s.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-4 space-y-4 sticky top-4 border border-slate-200",children:[(0,s.jsxs)("button",{onClick:()=>n({kind:"project-settings"}),className:"w-full bg-white rounded-lg p-4 shadow-sm border border-slate-200 hover:bg-slate-50 transition text-left ".concat("project-settings"===l.kind?"ring-2 ring-purple-500":""),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"text-xl",children:"üì¶"}),(0,s.jsx)("h3",{className:"font-bold text-slate-900 text-lg",children:a.name}),(0,s.jsx)("span",{className:"ml-auto",children:(0,s.jsxs)("svg",{className:"w-4 h-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),(0,s.jsxs)("div",{className:"text-xs text-slate-600 space-y-1",children:[(0,s.jsxs)("div",{children:[o.length," environment",1!==o.length?"s":""]}),m.length>0&&(0,s.jsxs)("div",{className:"text-blue-600 font-medium",children:[m.length,"/",a.prEnvs.maxEnvs," PR environments"]})]})]}),x.map(e=>{var t,a,c,o;let x=e.containers||[],m=!!e.database,h=!!e.cache,u="environment"===l.kind&&l.envId===e.id,p=r===e.id;return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[(0,s.jsxs)("button",{onClick:()=>{p?i(null):i(e.id),n({kind:"environment",envId:e.id})},className:"w-full bg-gradient-to-r from-purple-50 to-blue-50 px-4 py-3 hover:from-purple-100 hover:to-blue-100 transition text-left ".concat(u?"ring-2 ring-purple-500 ring-inset":""," ").concat(p?"border-b border-slate-200":"border-b-0"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4 text-slate-500 transition-transform ".concat(p?"rotate-90":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),(0,s.jsx)("span",{className:"text-lg",children:"üîß"}),(0,s.jsx)("span",{className:"font-bold text-slate-900",children:e.name})]}),d(e)]}),(0,s.jsx)("div",{className:"text-xs text-slate-600 ml-6",children:e.baseDomain})]}),p&&(0,s.jsxs)("div",{className:"p-3 space-y-3 border-t border-slate-200",children:[x.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-xs font-semibold text-slate-600 mb-2 flex items-center gap-1",children:[(0,s.jsx)("span",{children:"üöÄ"}),(0,s.jsxs)("span",{children:["Containers (",x.length,")"]})]}),(0,s.jsx)("div",{className:"space-y-1",children:x.map((t,a)=>{var r;let i=t.name||(null==(r=t.imageUrl.split("/").pop())?void 0:r.split(":")[0])||"app-".concat(a+1),c="container"===l.kind&&l.id===t.id;return(0,s.jsxs)("button",{onClick:()=>n({kind:"container",id:t.id,envId:e.id}),className:"w-full text-left px-3 py-2 rounded-lg border transition ".concat(c?"border-purple-400 bg-purple-50 shadow-sm":"border-slate-200 hover:border-purple-300 hover:bg-slate-50"),children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-900 truncate",children:i}),"public"===t.exposure&&(0,s.jsx)("div",{className:"text-xs text-slate-500",children:"Public"})]},t.id)})})]}),m&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-xs font-semibold text-slate-600 mb-2 flex items-center gap-1",children:[(0,s.jsx)("span",{children:"üíæ"}),(0,s.jsx)("span",{children:"Database"})]}),(0,s.jsx)("button",{onClick:()=>n({kind:"database",envId:e.id}),className:"w-full text-left px-3 py-2 rounded-lg border transition ".concat("database"===l.kind&&l.envId===e.id?"border-green-400 bg-green-50 shadow-sm":"border-slate-200 hover:border-green-300 hover:bg-slate-50"),children:(0,s.jsx)("div",{className:"text-sm font-medium text-slate-900",children:(null==(t=e.database)?void 0:t.engine)==="postgres"?"PostgreSQL":null==(a=e.database)?void 0:a.engine})})]}),h&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-xs font-semibold text-slate-600 mb-2 flex items-center gap-1",children:[(0,s.jsx)("span",{children:"‚ö°"}),(0,s.jsx)("span",{children:"Cache"})]}),(0,s.jsx)("button",{onClick:()=>n({kind:"cache",envId:e.id}),className:"w-full text-left px-3 py-2 rounded-lg border transition ".concat("cache"===l.kind&&l.envId===e.id?"border-red-400 bg-red-50 shadow-sm":"border-slate-200 hover:border-red-300 hover:bg-slate-50"),children:(0,s.jsx)("div",{className:"text-sm font-medium text-slate-900",children:(null==(c=e.cache)?void 0:c.engine)==="redis"?"Redis":null==(o=e.cache)?void 0:o.engine})})]})]})]},e.id)}),m.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"text-xs font-semibold text-slate-600 px-2 flex items-center gap-2",children:[(0,s.jsx)("span",{children:"‚ö°"}),(0,s.jsx)("span",{children:"PR Environments"})]}),m.map(e=>{let t="environment"===l.kind&&l.envId===e.id,a=r===e.id,c=(e=>{if(!e)return"";let s=new Date().getTime(),t=new Date(e).getTime()-s;if(t<=0)return"Expired";let a=Math.floor(t/36e5),l=Math.floor(t%36e5/6e4);return a>0?"".concat(a,"h ").concat(l,"m"):"".concat(l,"m")})(e.expiresAt);return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[(0,s.jsxs)("button",{onClick:()=>{a?i(null):i(e.id),n({kind:"environment",envId:e.id})},className:"w-full text-left p-3 hover:bg-blue-50 transition ".concat(t?"ring-2 ring-blue-500 ring-inset bg-blue-50":""),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,s.jsx)("svg",{className:"w-4 h-4 text-slate-500 transition-transform flex-shrink-0 ".concat(a?"rotate-90":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-slate-900 truncate",children:e.name})]}),(e=>{if("pr"===e.type){var t;return(0,s.jsxs)("span",{className:"inline-flex items-center px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded font-medium",children:["PR #",(null==(t=e.prSource)?void 0:t.prNumber)||"?"]})}return null})(e)]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs ml-6",children:[d(e),e.expiresAt&&"active"===e.status&&(0,s.jsxs)("span",{className:"text-slate-600",children:["‚è±Ô∏è ",c]})]}),e.prSource&&!a&&(0,s.jsxs)("div",{className:"text-xs text-slate-600 mt-2 truncate ml-6",children:[e.prSource.repository," ‚Ä¢ ",e.prSource.branchName]})]}),a&&e.prSource&&(0,s.jsxs)("div",{className:"px-3 pb-3 space-y-2 border-t border-slate-200 pt-2",children:[(0,s.jsxs)("div",{className:"text-xs",children:[(0,s.jsx)("div",{className:"text-slate-600",children:"Repository"}),(0,s.jsx)("div",{className:"font-medium text-slate-900",children:e.prSource.repository})]}),(0,s.jsxs)("div",{className:"text-xs",children:[(0,s.jsx)("div",{className:"text-slate-600",children:"Branch"}),(0,s.jsx)("div",{className:"font-medium text-slate-900",children:e.prSource.branchName})]}),(0,s.jsxs)("div",{className:"text-xs",children:[(0,s.jsx)("div",{className:"text-slate-600",children:"PR Title"}),(0,s.jsx)("div",{className:"font-medium text-slate-900",children:e.prSource.prTitle})]})]})]},e.id)})]}),(0,s.jsx)("button",{onClick:()=>n({kind:"architecture"}),className:"w-full text-left px-4 py-3 rounded-lg border transition ".concat("architecture"===l.kind?"border-purple-400 bg-purple-50 shadow-sm":"border-slate-200 hover:border-purple-300 hover:bg-slate-50 bg-white"),children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[(0,s.jsx)("span",{className:"text-xl",children:"üèóÔ∏è"}),(0,s.jsx)("span",{children:"Architecture Diagram"})]})})]})}function m(e){var a;let{environment:l,onClone:n,onPromote:r,onDelete:i,onPause:c,onResume:d}=e,[o,x]=(0,t.useState)(!1),m=(()=>{let e=0;if(l.containers.forEach(s=>{let t=parseFloat(s.resources.cpu),a=parseFloat(s.resources.memory),l=(s.resources.replicas.min+s.resources.replicas.max)/2,n=4.99;(t>1||a>2)&&(n=5.49),(t>2||a>4)&&(n=9.49),(t>4||a>8)&&(n=17.49),e+=Math.ceil(l/2)*n,s.volume&&(e+=.044*s.volume.sizeGB)}),l.database){let s=parseFloat(l.database.cpu),t=parseFloat(l.database.memory),a=parseFloat(l.database.storage);l.database.storage.includes("TB")&&(a*=1e3);let n=4.99;(s>1||t>2)&&(n=5.49),(s>2||t>4)&&(n=9.49),(s>4||t>8)&&(n=17.49),(s>8||t>16)&&(n=34.49);let r=.044*a;(l.database.replicas.includes("HA")||l.database.replicas.includes("Multi-region"))&&(n*=2),e+=n+r}if(l.cache){let s=parseFloat(l.cache.memory.replace("MB","").replace("GB",""))*(l.cache.memory.includes("GB")?1024:1);s<1024||(s<=2048?e+=4.99:e+=5.49)}return e+=12,e+=10,e*=1.3})(),h="pr"===l.type,u="deleted"===l.status||"expired"===l.status,p=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-6",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold",children:l.name}),h&&(0,s.jsxs)("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-sm rounded-lg text-sm font-medium",children:["PR #",null==(a=l.prSource)?void 0:a.prNumber]})]}),(0,s.jsxs)("div",{className:"text-purple-100 text-sm space-y-1",children:[(0,s.jsx)("div",{children:l.baseDomain}),"active"===l.status&&l.publicContainers.length>0&&(0,s.jsxs)("div",{children:[l.publicContainers.length," public container",1!==l.publicContainers.length?"s":""]})]})]}),(0,s.jsxs)("div",{children:["active"===l.status&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 bg-green-500/20 backdrop-blur-sm text-white px-3 py-1.5 rounded-full text-sm font-medium",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-green-300 rounded-full animate-pulse"}),"Live"]}),"paused"===l.status&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 bg-amber-500/20 backdrop-blur-sm text-white px-3 py-1.5 rounded-full text-sm font-medium",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-amber-300 rounded-full"}),"Paused"]}),"provisioning"===l.status&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 bg-yellow-500/20 backdrop-blur-sm text-white px-3 py-1.5 rounded-full text-sm font-medium",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-yellow-300 rounded-full animate-pulse"}),"Provisioning"]}),"deleting"===l.status&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 bg-red-500/20 backdrop-blur-sm text-white px-3 py-1.5 rounded-full text-sm font-medium",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-red-300 rounded-full"}),"Deleting"]})]})]}),!u&&(0,s.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-purple-100 text-sm mb-1",children:"Estimated Cost"}),(0,s.jsxs)("div",{className:"text-3xl font-bold",children:["‚Ç¨",h?"0.08":m.toFixed(2),(0,s.jsxs)("span",{className:"text-lg font-normal text-purple-100 ml-2",children:["/",h?"2 hours":"month"]})]})]}),h&&l.expiresAt&&(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-purple-100 text-sm mb-1",children:"Expires In"}),(0,s.jsx)("div",{className:"text-2xl font-bold",children:(()=>{if(!l.expiresAt)return null;let e=new Date().getTime(),s=new Date(l.expiresAt).getTime()-e;if(s<=0)return"Expired";let t=Math.floor(s/36e5),a=Math.floor(s%36e5/6e4);return t>0?"".concat(t,"h ").concat(a,"m"):"".concat(a,"m")})()})]})]})})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[!u&&!h&&"active"===l.status&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsxs)("button",{onClick:c,className:"px-4 py-2 bg-amber-100 hover:bg-amber-200 text-amber-900 rounded-lg transition font-medium flex items-center gap-2",children:[(0,s.jsx)("span",{children:"‚è∏Ô∏è"}),(0,s.jsx)("span",{children:"Pause"})]}),(0,s.jsxs)("button",{onClick:n,className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-900 rounded-lg transition font-medium flex items-center gap-2",children:[(0,s.jsx)("span",{children:"üìã"}),(0,s.jsx)("span",{children:"Clone"})]}),(0,s.jsxs)("button",{onClick:r,className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-900 rounded-lg transition font-medium flex items-center gap-2",children:[(0,s.jsx)("span",{children:"üöÄ"}),(0,s.jsx)("span",{children:"Promote"})]}),(0,s.jsxs)("button",{onClick:i,className:"px-4 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg transition font-medium flex items-center gap-2",children:[(0,s.jsx)("span",{children:"üóëÔ∏è"}),(0,s.jsx)("span",{children:"Delete"})]})]}),!u&&!h&&"paused"===l.status&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsxs)("button",{onClick:d,className:"px-4 py-2 bg-green-100 hover:bg-green-200 text-green-900 rounded-lg transition font-medium flex items-center gap-2",children:[(0,s.jsx)("span",{children:"‚ñ∂Ô∏è"}),(0,s.jsx)("span",{children:"Resume"})]}),(0,s.jsxs)("button",{onClick:i,className:"px-4 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg transition font-medium flex items-center gap-2",children:[(0,s.jsx)("span",{children:"üóëÔ∏è"}),(0,s.jsx)("span",{children:"Delete"})]})]}),!u&&h&&(0,s.jsx)("div",{className:"flex flex-wrap gap-3",children:(0,s.jsxs)("button",{onClick:i,className:"px-4 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg transition font-medium flex items-center gap-2",children:[(0,s.jsx)("span",{children:"üóëÔ∏è"}),(0,s.jsx)("span",{children:"Delete"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Environment Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Type"}),(0,s.jsx)("div",{className:"font-medium text-slate-900",children:"standard"===l.type?"Standard":"Pull Request"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Status"}),(0,s.jsx)("div",{className:"font-medium text-slate-900 capitalize",children:l.status})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Created"}),(0,s.jsx)("div",{className:"font-medium text-slate-900",children:p(l.createdAt)})]}),h&&l.expiresAt&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Expires"}),(0,s.jsx)("div",{className:"font-medium text-slate-900",children:p(l.expiresAt)})]})]})]}),h&&l.prSource&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Pull Request Details"}),(0,s.jsxs)("div",{className:"space-y-3 bg-blue-50 rounded-lg p-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Repository"}),(0,s.jsx)("div",{className:"font-medium text-slate-900",children:l.prSource.repository})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"PR Title"}),(0,s.jsx)("div",{className:"font-medium text-slate-900",children:l.prSource.prTitle})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Branch"}),(0,s.jsx)("div",{className:"font-mono text-sm text-slate-900 bg-white px-2 py-1 rounded",children:l.prSource.branchName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Commit"}),(0,s.jsx)("div",{className:"font-mono text-sm text-slate-900 bg-white px-2 py-1 rounded",children:l.prSource.commitSha.substring(0,7)})]})]}),l.serviceOverride&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Override"}),(0,s.jsxs)("div",{className:"font-medium text-slate-900",children:["Container ",(0,s.jsx)("code",{className:"bg-white px-2 py-0.5 rounded text-sm",children:l.serviceOverride.serviceName})," using custom image"]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Resources"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xl",children:"üöÄ"}),(0,s.jsx)("span",{className:"font-medium text-slate-900",children:"Containers"})]}),(0,s.jsx)("span",{className:"text-slate-600",children:l.containers.length})]}),l.database&&(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xl",children:"üíæ"}),(0,s.jsx)("span",{className:"font-medium text-slate-900",children:"Database"})]}),(0,s.jsxs)("span",{className:"text-slate-600",children:["postgres"===l.database.engine?"PostgreSQL":l.database.engine," ‚Ä¢ ",l.database.storage]})]}),l.cache&&(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xl",children:"‚ö°"}),(0,s.jsx)("span",{className:"font-medium text-slate-900",children:"Cache"})]}),(0,s.jsxs)("span",{className:"text-slate-600",children:["redis"===l.cache.engine?"Redis":l.cache.engine," ‚Ä¢ ",l.cache.memory]})]})]})]}),(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("span",{className:"text-xl",children:"üí°"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium text-blue-900 mb-1",children:"standard"===l.type?"Edit Resources":"View Only"}),(0,s.jsx)("div",{className:"text-sm text-blue-700",children:"standard"===l.type?"Click on a resource in the sidebar to edit its configuration.":"PR environments are read-only. To edit configuration, update the unhazzle.yaml manifest."})]})]})})]})]})}function h(e){var a,l,n,r,i,c,d,o,x,m,h,u,p,b;let{project:j,onSave:g}=e,[v,f]=(0,t.useState)(j.name),[N,y]=(0,t.useState)(j.slug),[w,C]=(0,t.useState)(j.description||""),[k,S]=(0,t.useState)((null==(a=j.repository)?void 0:a.url)||""),[E,P]=(0,t.useState)((null==(l=j.repository)?void 0:l.branch)||"main"),[R,A]=(0,t.useState)((null==(n=j.repository)?void 0:n.configPath)||"unhazzle.yaml"),[z,D]=(0,t.useState)(null==(m=null==(r=j.repository)?void 0:r.autoDeployEnabled)||m),[T,B]=(0,t.useState)(null!=(h=null==(i=j.prEnvironmentSettings)?void 0:i.enabled)&&h),[M,G]=(0,t.useState)(null==(u=null==(c=j.prEnvironmentSettings)?void 0:c.autoCreateOnPR)||u),[L,U]=(0,t.useState)(null==(p=null==(d=j.prEnvironmentSettings)?void 0:d.autoDeleteOnMerge)||p),[I,F]=(0,t.useState)(null!=(b=null==(o=j.prEnvironmentSettings)?void 0:o.expirationHours)?b:72),[_,O]=(0,t.useState)((null==(x=j.prEnvironmentSettings)?void 0:x.nameTemplate)||"pr-{number}"),[V,H]=(0,t.useState)("general"),[$,q]=(0,t.useState)(!1);return(0,s.jsxs)("div",{className:"h-full flex flex-col bg-white",children:[(0,s.jsxs)("div",{className:"flex-none border-b border-gray-200 px-6 py-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Project Settings"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Configure project details, repository integration, and PR environment behavior"})]}),(0,s.jsx)("div",{className:"flex-none border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex space-x-8 px-6",children:[(0,s.jsx)("button",{onClick:()=>H("general"),className:"py-3 text-sm font-medium border-b-2 transition-colors ".concat("general"===V?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"General"}),(0,s.jsx)("button",{onClick:()=>H("repository"),className:"py-3 text-sm font-medium border-b-2 transition-colors ".concat("repository"===V?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Repository Integration"}),(0,s.jsx)("button",{onClick:()=>H("pr-environments"),className:"py-3 text-sm font-medium border-b-2 transition-colors ".concat("pr-environments"===V?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"PR Environments"})]})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,s.jsxs)("div",{className:"px-6 py-6 max-w-2xl",children:["general"===V&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Name"}),(0,s.jsx)("input",{type:"text",value:v,onChange:e=>{f(e.target.value),q(!0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"My Awesome App"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"A friendly name for your project"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Slug"}),(0,s.jsx)("input",{type:"text",value:N,onChange:e=>{y(e.target.value),q(!0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"my-awesome-app"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Used in URLs and CLI commands (lowercase, hyphens only)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,s.jsx)("textarea",{value:w,onChange:e=>{C(e.target.value),q(!0)},rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"A brief description of your project (optional)"})]}),(0,s.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Danger Zone"}),(0,s.jsx)("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-red-900",children:"Delete Project"}),(0,s.jsx)("p",{className:"text-xs text-red-700 mt-1",children:"Permanently delete this project and all its environments"})]}),(0,s.jsx)("button",{className:"px-3 py-1.5 text-sm font-medium text-red-700 border border-red-300 rounded hover:bg-red-100 transition-colors",children:"Delete"})]})})]})]}),"repository"===V&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Repository URL"}),(0,s.jsx)("input",{type:"text",value:k,onChange:e=>{S(e.target.value),q(!0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://github.com/username/repo"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"GitHub repository URL"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Branch"}),(0,s.jsx)("input",{type:"text",value:E,onChange:e=>{P(e.target.value),q(!0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"main"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Branch used for production deployments"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Config File Path"}),(0,s.jsx)("input",{type:"text",value:R,onChange:e=>{A(e.target.value),q(!0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"unhazzle.yaml"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Path to your Unhazzle configuration file in the repository"})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("input",{type:"checkbox",id:"auto-deploy",checked:z,onChange:e=>{D(e.target.checked),q(!0)},className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"auto-deploy",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Enable Auto-Deploy"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Automatically deploy when changes are pushed to tracked branches"})]})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Connection Status"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"h-2 w-2 rounded-full bg-green-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"Connected to GitHub"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"Last synced: 2 hours ago"})]})})]}),"pr-environments"===V&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("input",{type:"checkbox",id:"pr-enabled",checked:T,onChange:e=>{B(e.target.checked),q(!0)},className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"pr-enabled",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Enable PR Environments"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Automatically create ephemeral environments for pull requests"})]})]}),T&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("input",{type:"checkbox",id:"pr-auto-create",checked:M,onChange:e=>{G(e.target.checked),q(!0)},className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"pr-auto-create",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Auto-create on PR Open"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Create environment automatically when a pull request is opened"})]})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("input",{type:"checkbox",id:"pr-auto-delete",checked:L,onChange:e=>{U(e.target.checked),q(!0)},className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"pr-auto-delete",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Auto-delete on PR Merge"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Delete environment automatically when pull request is merged or closed"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiration Time"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"number",value:I,onChange:e=>{F(parseInt(e.target.value)||72),q(!0)},min:"1",max:"720",className:"w-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"hours"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PR environments expire after this many hours of inactivity"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name Template"}),(0,s.jsx)("input",{type:"text",value:_,onChange:e=>{O(e.target.value),q(!0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"pr-{number}"}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Use ","{number}"," for PR number, ","{branch}"," for branch name"]})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-amber-900 mb-2",children:"Cost Estimate"}),(0,s.jsxs)("p",{className:"text-xs text-gray-600",children:["Each PR environment costs approximately ",(0,s.jsx)("span",{className:"font-semibold",children:"‚Ç¨0.08/2 hours"})," or"," ",(0,s.jsx)("span",{className:"font-semibold",children:"‚Ç¨0.96/day"})," when active."]}),(0,s.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:["With expiration set to ",I,"h, maximum cost per PR is"," ",(0,s.jsxs)("span",{className:"font-semibold",children:["‚Ç¨",(I/2*.08).toFixed(2)]})]})]})})]})]})]})}),$&&(0,s.jsx)("div",{className:"flex-none border-t border-gray-200 px-6 py-4 bg-gray-50",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"You have unsaved changes"}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:()=>{var e,s,t,a,l,n,r,i,c,d,o,x,m,h;f(j.name),y(j.slug),C(j.description||""),S((null==(e=j.repository)?void 0:e.url)||""),P((null==(s=j.repository)?void 0:s.branch)||"main"),A((null==(t=j.repository)?void 0:t.configPath)||"unhazzle.yaml"),D(null==(d=null==(a=j.repository)?void 0:a.autoDeployEnabled)||d),B(null!=(o=null==(l=j.prEnvironmentSettings)?void 0:l.enabled)&&o),G(null==(x=null==(n=j.prEnvironmentSettings)?void 0:n.autoCreateOnPR)||x),U(null==(m=null==(r=j.prEnvironmentSettings)?void 0:r.autoDeleteOnMerge)||m),F(null!=(h=null==(i=j.prEnvironmentSettings)?void 0:i.expirationHours)?h:72),O((null==(c=j.prEnvironmentSettings)?void 0:c.nameTemplate)||"pr-{number}"),q(!1)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Reset"}),(0,s.jsx)("button",{onClick:()=>{g({name:v,slug:N,description:w,repository:{url:k,branch:E,autoDeployEnabled:z,configPath:R},prEnvironmentSettings:{enabled:T,autoCreateOnPR:M,autoDeleteOnMerge:L,expirationHours:I,nameTemplate:_}}),q(!1)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})})]})}function u(e){let{sourceEnvironment:a,onClose:l,onConfirm:n}=e,[r,i]=(0,t.useState)("".concat(a.name,"-copy")),[c,d]=(0,t.useState)(!1);return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-slate-200",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Clone Environment"}),(0,s.jsx)("p",{className:"text-slate-600 mt-1",children:"Create a copy of this environment's configuration"})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-700 mb-2",children:"Source Environment"}),(0,s.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[(0,s.jsx)("div",{className:"font-semibold text-slate-900",children:a.name}),(0,s.jsx)("div",{className:"text-sm text-slate-600 mt-1",children:a.baseDomain})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"New Environment Name"}),(0,s.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"staging",autoFocus:!0}),(0,s.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"Lowercase letters, numbers, and hyphens only. 3-63 characters."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-700 mb-3",children:"What will be cloned:"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[(0,s.jsx)("span",{className:"text-green-600",children:"‚úì"}),(0,s.jsxs)("span",{children:[a.containers.length," container",1!==a.containers.length?"s":""," (configuration only)"]})]}),a.database&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[(0,s.jsx)("span",{className:"text-green-600",children:"‚úì"}),(0,s.jsxs)("span",{children:["Database (",a.database.storage,")"]})]}),a.cache&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[(0,s.jsx)("span",{className:"text-green-600",children:"‚úì"}),(0,s.jsxs)("span",{children:["Cache (",a.cache.memory,")"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[(0,s.jsx)("span",{className:"text-green-600",children:"‚úì"}),(0,s.jsx)("span",{children:"Environment variables"})]})]})]}),(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("span",{className:"text-xl",children:"‚ÑπÔ∏è"}),(0,s.jsxs)("div",{className:"flex-1 text-sm text-blue-900",children:[(0,s.jsx)("strong",{children:"Note:"})," Only configuration is cloned. Runtime data, logs, and metrics are not copied."]})]})}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-4 border border-purple-200",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-700 mb-1",children:"Estimated Monthly Cost"}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-slate-900",children:["‚Ç¨169",(0,s.jsx)("span",{className:"text-lg font-normal text-slate-600",children:"/month"})]})]})]}),(0,s.jsxs)("div",{className:"p-6 border-t border-slate-200 flex justify-end gap-3",children:[(0,s.jsx)("button",{onClick:l,disabled:c,className:"px-6 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition font-medium text-slate-700 disabled:opacity-50",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{r.trim()&&(d(!0),setTimeout(()=>{n(r.trim()),d(!1)},1e3))},disabled:c||!r.trim(),className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition font-semibold disabled:opacity-50 flex items-center gap-2",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"animate-spin",children:"‚öôÔ∏è"}),(0,s.jsx)("span",{children:"Cloning..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"üìã"}),(0,s.jsx)("span",{children:"Clone Environment"})]})})]})]})})}function p(e){var a;let{sourceEnvironment:l,availableTargets:n,onClose:r,onConfirm:i}=e,[c,d]=(0,t.useState)(""),[o,x]=(0,t.useState)(!1);return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-slate-200",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Promote Environment"}),(0,s.jsx)("p",{className:"text-slate-600 mt-1",children:"Copy configuration to another environment"})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-700 mb-2",children:"Source Environment"}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-4 border border-purple-200",children:[(0,s.jsx)("div",{className:"font-semibold text-slate-900",children:l.name}),(0,s.jsx)("div",{className:"text-sm text-slate-600 mt-1",children:l.baseDomain})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Target Environment"}),(0,s.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"Select target environment..."}),n.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),c&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-700 mb-3",children:"Changes to be applied:"}),(0,s.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 space-y-3 border border-slate-200",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-900 mb-2",children:"Containers:"}),(0,s.jsx)("div",{className:"space-y-1",children:l.containers.map((e,t)=>(0,s.jsxs)("div",{className:"text-sm text-slate-700 pl-4",children:["‚Ä¢ ",e.name||"Container ".concat(t+1),": Image will be updated"]},e.id))})]}),l.database&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-900 mb-2",children:"Database:"}),(0,s.jsxs)("div",{className:"text-sm text-slate-700 pl-4",children:["‚Ä¢ Configuration will be updated (",l.database.storage," storage)"]})]}),l.cache&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-900 mb-2",children:"Cache:"}),(0,s.jsxs)("div",{className:"text-sm text-slate-700 pl-4",children:["‚Ä¢ Configuration will be updated (",l.cache.memory,")"]})]})]})]}),(0,s.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("span",{className:"text-xl",children:"‚ö†Ô∏è"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium text-yellow-900 mb-1",children:"Warning"}),(0,s.jsx)("div",{className:"text-sm text-yellow-800",children:"This will redeploy the target environment with the source configuration. The target environment will experience downtime during the update."})]})]})})]}),(0,s.jsxs)("div",{className:"p-6 border-t border-slate-200 flex justify-end gap-3",children:[(0,s.jsx)("button",{onClick:r,disabled:o,className:"px-6 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition font-medium text-slate-700 disabled:opacity-50",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{c&&(x(!0),setTimeout(()=>{i(c),x(!1)},1500))},disabled:o||!c,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition font-semibold disabled:opacity-50 flex items-center gap-2",children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"animate-spin",children:"‚öôÔ∏è"}),(0,s.jsx)("span",{children:"Promoting..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"üöÄ"}),(0,s.jsxs)("span",{children:["Promote to ",(null==(a=n.find(e=>e.id===c))?void 0:a.name)||"Target"]})]})})]})]})})}function b(e){let{environment:a,onClose:l,onConfirm:n}=e,[r,i]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),o="pr"===a.type,x=o||r===a.name;return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-6 border-b border-slate-200 bg-red-50",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-3xl",children:"‚ö†Ô∏è"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-red-900",children:"Delete Environment"}),(0,s.jsx)("p",{className:"text-red-700 mt-1",children:o?"Delete this PR environment?":'Delete "'.concat(a.name,'" environment?')})]})]})}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-700 mb-3",children:"This will permanently delete:"}),(0,s.jsxs)("div",{className:"space-y-2 bg-red-50 rounded-lg p-4 border border-red-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-900",children:[(0,s.jsx)("span",{children:"‚Ä¢"}),(0,s.jsxs)("span",{children:[a.containers.length," container",1!==a.containers.length?"s":""]})]}),a.database&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-900",children:[(0,s.jsx)("span",{children:"‚Ä¢"}),(0,s.jsxs)("span",{children:["Database (",a.database.storage,")"]})]}),a.cache&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-900",children:[(0,s.jsx)("span",{children:"‚Ä¢"}),(0,s.jsxs)("span",{children:["Cache (",a.cache.memory,")"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-900",children:[(0,s.jsx)("span",{children:"‚Ä¢"}),(0,s.jsx)("span",{children:"All environment variables"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-900",children:[(0,s.jsx)("span",{children:"‚Ä¢"}),(0,s.jsx)("span",{children:"Persistent volumes (if configured)"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-lg p-4 border border-slate-200",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-700 mb-1",children:"Cost Savings"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-slate-900",children:o?"‚Ç¨0.08/2 hours":"‚Ç¨169/month"})]}),(0,s.jsx)("div",{className:"bg-red-100 border-2 border-red-300 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("span",{className:"text-xl",children:"‚ùå"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-bold text-red-900 mb-1",children:"This action cannot be undone"}),(0,s.jsx)("div",{className:"text-sm text-red-800",children:"All data in this environment will be permanently lost. Make sure you have backups if needed."})]})]})}),!o&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Type ",(0,s.jsx)("code",{className:"bg-slate-100 px-2 py-0.5 rounded text-red-600 font-bold",children:a.name})," to confirm:"]}),(0,s.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border-2 border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:a.name,autoFocus:!0})]})]}),(0,s.jsxs)("div",{className:"p-6 border-t border-slate-200 flex justify-end gap-3",children:[(0,s.jsx)("button",{onClick:l,disabled:c,className:"px-6 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition font-medium text-slate-700 disabled:opacity-50",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{x&&(d(!0),setTimeout(()=>{n(),d(!1)},1e3))},disabled:c||!x,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-semibold disabled:opacity-50 disabled:bg-slate-400 flex items-center gap-2",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"animate-spin",children:"‚öôÔ∏è"}),(0,s.jsx)("span",{children:"Deleting..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"üóëÔ∏è"}),(0,s.jsx)("span",{children:"Delete Environment"})]})})]})]})})}function j(e){let{environment:a,onClose:l,onConfirm:n}=e,[r,i]=(0,t.useState)(!1);return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-3xl",children:"‚è∏Ô∏è"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Pause Environment"}),(0,s.jsxs)("p",{className:"text-slate-600 mt-1",children:['Temporarily stop "',a.name,'" to save costs']})]})]})}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-700 mb-3",children:"When paused, this environment will:"}),(0,s.jsxs)("div",{className:"space-y-2 bg-blue-50 rounded-lg p-4 border border-blue-200",children:[(0,s.jsxs)("div",{className:"flex items-start gap-2 text-sm text-blue-900",children:[(0,s.jsx)("span",{className:"text-lg",children:"üì¶"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Containers:"})," Scale all replicas to 0 (no running instances)"]})]}),a.database&&(0,s.jsxs)("div",{className:"flex items-start gap-2 text-sm text-blue-900",children:[(0,s.jsx)("span",{className:"text-lg",children:"üíæ"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Database:"})," Stop compute instances (data preserved in storage)"]})]}),a.cache&&(0,s.jsxs)("div",{className:"flex items-start gap-2 text-sm text-blue-900",children:[(0,s.jsx)("span",{className:"text-lg",children:"‚ö°"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Cache:"})," Stop cache service (data will be lost)"]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2 text-sm text-blue-900",children:[(0,s.jsx)("span",{className:"text-lg",children:"üåê"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Domain:"})," Will return 503 Service Unavailable"]})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-6 border-2 border-green-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-green-900",children:"Estimated Monthly Savings"}),(0,s.jsx)("span",{className:"text-4xl",children:"üí∞"})]}),(0,s.jsxs)("div",{className:"text-4xl font-bold text-green-900",children:["‚Ç¨",169,(0,s.jsx)("span",{className:"text-lg font-normal text-green-700 ml-2",children:"/month"})]}),(0,s.jsxs)("div",{className:"text-sm text-green-700 mt-2",children:["Pay only for persistent storage (~‚Ç¨","8.45","/month)"]})]}),(0,s.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("span",{className:"text-xl",children:"üí°"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium text-yellow-900 mb-1",children:"Good to know:"}),(0,s.jsxs)("ul",{className:"text-sm text-yellow-800 space-y-1 list-disc list-inside",children:[(0,s.jsx)("li",{children:"Configuration is preserved - you can resume anytime"}),(0,s.jsx)("li",{children:"Database data is safe in persistent storage"}),(0,s.jsx)("li",{children:"Cache data will be cleared when paused"}),(0,s.jsx)("li",{children:"Environment URLs will be unavailable until resumed"}),(0,s.jsx)("li",{children:"Resume takes ~30 seconds to restore services"})]})]})]})})]}),(0,s.jsxs)("div",{className:"p-6 border-t border-slate-200 flex justify-end gap-3",children:[(0,s.jsx)("button",{onClick:l,disabled:r,className:"px-6 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition font-medium text-slate-700 disabled:opacity-50",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{i(!0),setTimeout(()=>{n(),i(!1)},1e3)},disabled:r,className:"px-6 py-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-lg hover:from-amber-600 hover:to-orange-600 transition font-semibold disabled:opacity-50 flex items-center gap-2",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"animate-spin",children:"‚öôÔ∏è"}),(0,s.jsx)("span",{children:"Pausing..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"‚è∏Ô∏è"}),(0,s.jsx)("span",{children:"Pause Environment"})]})})]})]})})}function g(e){let{environment:a,onClose:l,onConfirm:n}=e,[r,i]=(0,t.useState)(!1);return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-3xl",children:"‚ñ∂Ô∏è"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Resume Environment"}),(0,s.jsxs)("p",{className:"text-slate-600 mt-1",children:['Restore "',a.name,'" to active state']})]})]})}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-700 mb-3",children:"Resuming will:"}),(0,s.jsxs)("div",{className:"space-y-2 bg-green-50 rounded-lg p-4 border border-green-200",children:[(0,s.jsxs)("div",{className:"flex items-start gap-2 text-sm text-green-900",children:[(0,s.jsx)("span",{className:"text-lg",children:"üì¶"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Containers:"})," Scale replicas back to configured values"]})]}),a.database&&(0,s.jsxs)("div",{className:"flex items-start gap-2 text-sm text-green-900",children:[(0,s.jsx)("span",{className:"text-lg",children:"üíæ"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Database:"})," Start compute instances (data restored from storage)"]})]}),a.cache&&(0,s.jsxs)("div",{className:"flex items-start gap-2 text-sm text-green-900",children:[(0,s.jsx)("span",{className:"text-lg",children:"‚ö°"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Cache:"})," Start cache service (empty, will warm up gradually)"]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2 text-sm text-green-900",children:[(0,s.jsx)("span",{className:"text-lg",children:"üåê"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Domain:"})," Will be accessible after ~30 seconds"]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-700 mb-3",children:"Resume Timeline:"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 font-bold text-sm",children:"1"}),(0,s.jsxs)("div",{className:"flex-1 text-sm text-slate-700",children:[(0,s.jsx)("strong",{children:"0-10s:"})," Provisioning infrastructure"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 font-bold text-sm",children:"2"}),(0,s.jsxs)("div",{className:"flex-1 text-sm text-slate-700",children:[(0,s.jsx)("strong",{children:"10-20s:"})," Starting database and cache services"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 font-bold text-sm",children:"3"}),(0,s.jsxs)("div",{className:"flex-1 text-sm text-slate-700",children:[(0,s.jsx)("strong",{children:"20-30s:"})," Deploying containers"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-green-600 font-bold text-sm",children:"‚úì"}),(0,s.jsx)("div",{className:"flex-1 text-sm font-medium text-green-700",children:"Environment ready!"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-lg p-4 border border-slate-200",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-700 mb-1",children:"Cost Impact"}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-slate-900",children:["‚Ç¨169",(0,s.jsx)("span",{className:"text-lg font-normal text-slate-600",children:"/month"})]}),(0,s.jsx)("div",{className:"text-sm text-slate-600 mt-1",children:"Billing resumes immediately upon starting services"})]})]}),(0,s.jsxs)("div",{className:"p-6 border-t border-slate-200 flex justify-end gap-3",children:[(0,s.jsx)("button",{onClick:l,disabled:r,className:"px-6 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition font-medium text-slate-700 disabled:opacity-50",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{i(!0),setTimeout(()=>{n(),i(!1)},1e3)},disabled:r,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition font-semibold disabled:opacity-50 flex items-center gap-2",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"animate-spin",children:"‚öôÔ∏è"}),(0,s.jsx)("span",{children:"Resuming..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"‚ñ∂Ô∏è"}),(0,s.jsx)("span",{children:"Resume Environment"})]})})]})]})})}function v(){var e,n;let r=(0,a.useRouter)(),{state:i,removeDatabase:c,removeCache:d}=(0,l.useDeployment)(),[o,x]=(0,t.useState)("projects"),[m,h]=(0,t.useState)(99.98),[u,p]=(0,t.useState)(42),[b,j]=(0,t.useState)(58),[g,v]=(0,t.useState)(1240),[N,y]=(0,t.useState)("all"),[w,C]=(0,t.useState)(!1);return((0,t.useEffect)(()=>{window.scrollTo(0,0)},[]),(0,t.useEffect)(()=>{C(!0)},[]),(0,t.useEffect)(()=>{w&&!i.user&&r.push("/")},[w,i.user,r]),(0,t.useEffect)(()=>{let e=setInterval(()=>{p(e=>Math.max(15,Math.min(80,e+(Math.random()-.5)*10))),j(e=>Math.max(30,Math.min(85,e+(Math.random()-.5)*8))),v(e=>Math.max(800,Math.min(2e3,e+(Math.random()-.5)*200))),h(99.95+.05*Math.random())},3e3);return()=>clearInterval(e)},[]),w)?i.project?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-8 px-4",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"Dashboard"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(null==(e=i.domain)?void 0:e.defaultSubdomain)&&(0,s.jsxs)("span",{className:"text-sm text-slate-600",children:["Deployed to: ",(0,s.jsx)("code",{className:"bg-white px-2 py-1 rounded text-xs font-mono",children:i.domain.defaultSubdomain})]}),i.deployed&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-medium",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-green-600 rounded-full animate-pulse"}),"Live"]})]})]}),(0,s.jsxs)("button",{onClick:()=>r.push("/questionnaire"),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition font-semibold shadow-lg flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xl",children:"+"}),(0,s.jsx)("span",{children:"Create Project"})]})]})}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"border-b border-slate-200 flex",children:["projects","logs","metrics","events","settings","nextSteps"].map(e=>(0,s.jsx)("button",{onClick:()=>x(e),className:"flex-1 px-6 py-4 font-medium transition text-center relative ".concat("nextSteps"===e?o===e?"border-b-2 border-amber-500 text-amber-600 bg-amber-50":"border-b-2 border-transparent text-amber-600 hover:text-amber-700 bg-gradient-to-b from-amber-50 to-transparent":o===e?"border-b-2 border-purple-600 text-purple-600 bg-purple-50":"text-slate-600 hover:text-slate-900"),children:(0,s.jsx)("div",{className:"flex items-center justify-center gap-2",children:"nextSteps"===e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"Next Steps"}),(0,s.jsx)("span",{className:"animate-pulse text-lg",children:"‚Üí"}),(0,s.jsx)("span",{className:"inline-block px-2 py-0.5 bg-amber-500 text-white text-xs rounded-full font-bold",children:"IMPORTANT"})]}):e.charAt(0).toUpperCase()+e.slice(1)})},e))}),(0,s.jsxs)("div",{className:"p-6",children:["projects"===o&&(0,s.jsx)(f,{project:i.project,state:i}),"logs"===o&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"Application:"}),(0,s.jsxs)("select",{value:N,onChange:e=>y(e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm bg-white",children:[(0,s.jsx)("option",{value:"all",children:"All Applications"}),i.containers.map((e,t)=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsx)("div",{className:"bg-slate-900 rounded-lg p-4 font-mono text-sm text-green-400 space-y-1 max-h-96 overflow-y-auto",children:(()=>{let e=[];return i.containers.forEach((s,t)=>{("all"===N||N===s.id)&&(e.push({container:s.name,message:"[2025-11-02 14:32:15] Application started successfully"},{container:s.name,message:"[2025-11-02 14:32:17] ‚Üí HTTP server listening on port ".concat(s.port)},{container:s.name,message:"[2025-11-02 14:32:18] ‚úì Health check passed"},{container:s.name,message:"[2025-11-02 14:32:19] ‚Üí Replica 1 reporting healthy"},{container:s.name,message:"[2025-11-02 14:32:20] ‚Üí Replica 2 reporting healthy"}),s.serviceAccess.database&&e.push({container:s.name,message:"[2025-11-02 14:32:16] ‚úì Database connection established"}),s.serviceAccess.cache&&e.push({container:s.name,message:"[2025-11-02 14:32:16] ‚úì Redis cache connected"}),"public"===s.exposure?e.push({container:s.name,message:"[2025-11-02 14:35:42] GET /api/products 200 45ms"},{container:s.name,message:"[2025-11-02 14:35:43] POST /api/cart 201 52ms"},{container:s.name,message:"[2025-11-02 14:35:44] GET /api/checkout 200 38ms"},{container:s.name,message:"[2025-11-02 14:35:45] POST /api/orders 201 127ms"},{container:s.name,message:"[2025-11-02 14:35:46] GET / 200 15ms (cached)"}):e.push({container:s.name,message:"[2025-11-02 14:35:42] Processing background job #1234"},{container:s.name,message:"[2025-11-02 14:35:43] ‚Üí Job completed in 89ms"},{container:s.name,message:"[2025-11-02 14:35:44] Handling internal API call"}))}),e.map((e,t)=>(0,s.jsxs)("div",{children:["all"===N&&(0,s.jsxs)("span",{className:"text-purple-400",children:["[",e.container,"] "]}),e.message]},t))})()})]}),"metrics"===o&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Performance Metrics"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:"Average Response Time"}),(0,s.jsx)("div",{className:"text-4xl font-bold text-purple-600",children:"45ms"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"‚Üì 12% from yesterday"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:"Error Rate"}),(0,s.jsx)("div",{className:"text-4xl font-bold text-green-600",children:"0.02%"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Excellent reliability"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:"99th Percentile (p99)"}),(0,s.jsx)("div",{className:"text-4xl font-bold text-blue-600",children:"234ms"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Well within SLA"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:"Requests Today"}),(0,s.jsx)("div",{className:"text-4xl font-bold text-slate-900",children:"1.8M"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"‚Üë 23% from yesterday"})]})]})]}),"events"===o&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Recent Events"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex gap-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,s.jsx)("span",{className:"text-2xl",children:"üì§"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-blue-900",children:"Deployment Completed"}),(0,s.jsx)("p",{className:"text-sm text-blue-700",children:"All replicas healthy and serving traffic"}),(0,s.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"2 hours ago"})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,s.jsx)("span",{className:"text-2xl",children:"üìä"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-slate-900",children:"Auto-scaling triggered"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Scaled from 2 to 4 replicas due to high traffic"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"45 minutes ago"})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,s.jsx)("span",{className:"text-2xl",children:"üîÑ"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-slate-900",children:"Database backup completed"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Automatic daily backup successful (5.2 GB)"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"1 hour ago"})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,s.jsx)("span",{className:"text-2xl",children:"‚úÖ"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-green-900",children:"SSL certificate renewed"}),(0,s.jsx)("p",{className:"text-sm text-green-700",children:"Auto-renewal for HTTPS certificate successful"}),(0,s.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"3 days ago"})]})]})]})]}),"settings"===o&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-purple-50 border border-purple-200 p-6 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Settings moved to Projects"}),(0,s.jsx)("p",{className:"text-slate-700 mb-4",children:"Edit your current deployment configuration in the Projects tab. Use the left sidebar to pick a resource and the right panel to edit. You can preview and apply staged changes."}),(0,s.jsx)("button",{onClick:()=>x("projects"),className:"px-5 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-medium",children:"Go to Projects"})]}),(0,s.jsx)("div",{className:"text-xs text-slate-500",children:"Looking for advanced settings? We‚Äôll surface them here soon. For now, everything configurable is available in Projects."})]}),"nextSteps"===o&&(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-6 rounded-lg border border-purple-200",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-2 flex items-center gap-2",children:[(0,s.jsx)("span",{children:"üöÄ"}),(0,s.jsx)("span",{children:"Enable Continuous Deployment"})]}),(0,s.jsx)("p",{className:"text-slate-600",children:"Your application is now live! The next step is to enable automatic deployments from your GitHub repository using the Unhazzle CLI and GitHub Actions."}),(0,s.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[(0,s.jsxs)("a",{href:"/unhazzle.io/cli-demo/cli-guide.html",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-medium",children:["Experience the Unhazzle CLI",(0,s.jsx)("span",{"aria-hidden":"true",children:"‚Üó"})]}),(0,s.jsx)("span",{className:"text-sm text-slate-600",children:"Simulate the same deployment flow directly from your terminal."})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold",children:"1"}),(0,s.jsx)("h4",{className:"text-lg font-bold text-slate-900",children:"Export Your Infrastructure Configuration"})]}),(0,s.jsx)("p",{className:"text-slate-600 ml-11",children:"Below is your infrastructure configuration in YAML format. This file describes all your resources, environment variables, and settings. Copy it to your repository for version control and CI/CD integration."}),(0,s.jsx)("div",{className:"ml-11 space-y-3",children:(0,s.jsxs)("div",{className:"bg-slate-900 rounded-lg overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-slate-800 px-4 py-3 flex items-center justify-between border-b border-slate-700",children:[(0,s.jsx)("span",{className:"text-white font-mono text-sm",children:"unhazzle.yaml"}),(0,s.jsx)("button",{onClick:()=>{let e=E(i);navigator.clipboard.writeText(e),alert("YAML copied to clipboard!")},className:"px-3 py-1 bg-purple-600 text-white text-xs rounded hover:bg-purple-700 transition",children:"Copy"})]}),(0,s.jsx)("pre",{className:"p-4 text-white font-mono text-xs overflow-x-auto max-h-72",children:(0,s.jsx)("code",{children:E(i)})})]})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold",children:"2"}),(0,s.jsx)("h4",{className:"text-lg font-bold text-slate-900",children:"Add YAML to Your Repository"})]}),(0,s.jsx)("p",{className:"text-slate-600 ml-11",children:"Commit the unhazzle.yaml file to the root of your repository:"}),(0,s.jsxs)("div",{className:"ml-11 bg-slate-100 rounded-lg p-4 font-mono text-sm space-y-1",children:[(0,s.jsx)("div",{className:"text-slate-700",children:"$ git add unhazzle.yaml"}),(0,s.jsx)("div",{className:"text-slate-700",children:'$ git commit -m "Add Unhazzle deployment config"'}),(0,s.jsx)("div",{className:"text-slate-700",children:"$ git push origin main"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold",children:"3"}),(0,s.jsx)("h4",{className:"text-lg font-bold text-slate-900",children:"Set Up GitHub Actions Workflow"})]}),(0,s.jsx)("p",{className:"text-slate-600 ml-11",children:"Create a GitHub Actions workflow to automatically deploy on every push:"}),(0,s.jsx)("div",{className:"ml-11 space-y-3",children:(0,s.jsxs)("div",{className:"bg-slate-900 rounded-lg overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-slate-800 px-4 py-3 flex items-center justify-between border-b border-slate-700",children:[(0,s.jsx)("span",{className:"text-white font-mono text-sm",children:".github/workflows/deploy.yml"}),(0,s.jsx)("button",{onClick:()=>{let e=P();navigator.clipboard.writeText(e),alert("Workflow copied to clipboard!")},className:"px-3 py-1 bg-purple-600 text-white text-xs rounded hover:bg-purple-700 transition",children:"Copy"})]}),(0,s.jsx)("pre",{className:"p-4 text-white font-mono text-xs overflow-x-auto max-h-72",children:(0,s.jsx)("code",{children:P()})})]})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold",children:"4"}),(0,s.jsx)("h4",{className:"text-lg font-bold text-slate-900",children:"Install Unhazzle CLI"})]}),(0,s.jsx)("p",{className:"text-slate-600 ml-11",children:"Install the Unhazzle CLI locally for development and debugging:"}),(0,s.jsxs)("div",{className:"ml-11 bg-slate-100 rounded-lg p-4 font-mono text-sm space-y-1",children:[(0,s.jsx)("div",{className:"text-slate-700",children:"$ npm install -g @unhazzle/cli"}),(0,s.jsx)("div",{className:"text-slate-700 mt-3",children:"# Or authenticate with GitHub"}),(0,s.jsx)("div",{className:"text-slate-700",children:"$ unhazzle auth login"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold",children:"5"}),(0,s.jsx)("h4",{className:"text-lg font-bold text-slate-900",children:"All Set! Continuous Deployment Enabled"})]}),(0,s.jsx)("p",{className:"text-slate-600 ml-11",children:"From now on, every time you push to your main branch:"}),(0,s.jsxs)("div",{className:"ml-11 space-y-2 text-slate-600",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("span",{className:"text-purple-600 font-bold mt-1",children:"‚Ä¢"}),(0,s.jsx)("span",{children:"GitHub Actions picks up the unhazzle.yaml file"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("span",{className:"text-purple-600 font-bold mt-1",children:"‚Ä¢"}),(0,s.jsx)("span",{children:"Unhazzle CLI automatically deploys your app with the exact configuration"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("span",{className:"text-purple-600 font-bold mt-1",children:"‚Ä¢"}),(0,s.jsx)("span",{children:"No manual steps, no configuration drift, fully automated"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("span",{className:"text-purple-600 font-bold mt-1",children:"‚Ä¢"}),(0,s.jsx)("span",{children:"Deployment status is reflected in your GitHub PR"})]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200 space-y-4",children:[(0,s.jsx)("h4",{className:"font-bold text-slate-900",children:"üîß Useful CLI Commands"}),(0,s.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-mono text-slate-700 mb-1",children:"$ unhazzle status"}),(0,s.jsx)("p",{className:"text-slate-600",children:"Check application health and metrics"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-mono text-slate-700 mb-1",children:"$ unhazzle logs --follow"}),(0,s.jsx)("p",{className:"text-slate-600",children:"Stream real-time application logs"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-mono text-slate-700 mb-1",children:"$ unhazzle env set KEY=VALUE"}),(0,s.jsx)("p",{className:"text-slate-600",children:"Update environment variables on the fly"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-mono text-slate-700 mb-1",children:"$ unhazzle deploy --config unhazzle.yaml"}),(0,s.jsx)("p",{className:"text-slate-600",children:"Manual deployment using your YAML config"})]})]})]}),(0,s.jsxs)("div",{className:"text-center p-6 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border border-purple-200",children:[(0,s.jsx)("p",{className:"text-slate-600 mb-4",children:"Want to learn more about continuous deployment?"}),(0,s.jsx)("a",{href:"https://docs.unhazzle.io/cli",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-medium",children:"Read the CLI Documentation ‚Üí"})]})]})]})]})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-8 px-4",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"Dashboard"}),(0,s.jsxs)("p",{className:"text-slate-600",children:["Welcome, ",null==(n=i.user)?void 0:n.name,"!"]})]})})}),(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-12",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto text-center",children:[(0,s.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)("svg",{className:"w-12 h-12 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"No Projects Yet"}),(0,s.jsx)("p",{className:"text-slate-600 mb-8 leading-relaxed",children:"Get started by creating your first project. Answer 4 quick questions about your application, and we'll automatically configure production-ready infrastructure for you."}),(0,s.jsxs)("button",{onClick:()=>r.push("/questionnaire"),className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition font-semibold shadow-lg inline-flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:"+"}),(0,s.jsx)("span",{children:"Create Your First Project"})]})]})})]})}):null}function f(e){let{project:a,state:n}=e,{updateContainer:r,updateResources:i,removeDatabase:c,removeCache:d,removeContainer:o,cloneEnvironment:v,promoteEnvironment:f,deleteEnvironment:y,pauseEnvironment:E,resumeEnvironment:P,updateProject:R}=(0,l.useDeployment)(),[A,z]=(0,t.useState)(()=>({kind:"project-settings"})),[D,T]=(0,t.useState)(!1),[B,M]=(0,t.useState)(!1),[G,L]=(0,t.useState)(!1),[U,I]=(0,t.useState)(!1),[F,_]=(0,t.useState)(!1),[O,V]=(0,t.useState)(null),[H,$]=(0,t.useState)(null),[q,W]=(0,t.useState)(null),[Y,J]=(0,t.useState)(!1),[K,Z]=(0,t.useState)(!1),[Q,X]=(0,t.useState)(!1),ee=()=>{if(!(null==a?void 0:a.environments))return null;if("container"===A.kind)for(let s of a.environments){var e;let t=null==(e=s.containers)?void 0:e.find(e=>e.id===A.id);if(t)return{type:"container",data:t,env:s}}else if("database"===A.kind){let e=a.environments.find(e=>e.id===A.envId);if(null==e?void 0:e.database)return{type:"database",data:e.database,env:e}}else if("cache"===A.kind){let e=a.environments.find(e=>e.id===A.envId);if(null==e?void 0:e.cache)return{type:"cache",data:e.cache,env:e}}return null},es=ee();return((0,t.useEffect)(()=>{let e=ee();if("container"===A.kind&&(null==e?void 0:e.data)){let s=JSON.parse(JSON.stringify(e.data));Array.isArray(s.environmentVariables)||(s.environmentVariables=[]),V(s)}else"database"===A.kind&&(null==e?void 0:e.data)?($(JSON.parse(JSON.stringify(e.data))),V(null)):"cache"===A.kind&&(null==e?void 0:e.data)?(W(JSON.parse(JSON.stringify(e.data))),V(null)):(V(null),$(null),W(null))},[A,a]),a)?(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,s.jsx)("div",{className:"col-span-12 lg:col-span-4 xl:col-span-3",children:(0,s.jsx)(x,{project:a,selected:A,onSelect:z})}),(0,s.jsxs)("div",{className:"col-span-12 lg:col-span-8 xl:col-span-9",children:["project-settings"===A.kind&&(0,s.jsx)(h,{project:a,onSave:e=>{R(e)}}),"environment"===A.kind&&A.envId&&(()=>{var e,t;let l=null==(e=a.environments)?void 0:e.find(e=>e.id===A.envId);return l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m,{environment:l,onClone:()=>T(!0),onPromote:()=>M(!0),onDelete:()=>L(!0),onPause:()=>I(!0),onResume:()=>_(!0)}),D&&(0,s.jsx)(u,{sourceEnvironment:l,onClose:()=>T(!1),onConfirm:e=>{v(l.id,e),T(!1)}}),B&&(0,s.jsx)(p,{sourceEnvironment:l,availableTargets:(null==(t=a.environments)?void 0:t.filter(e=>"standard"===e.type&&e.id!==l.id&&"active"===e.status))||[],onClose:()=>M(!1),onConfirm:e=>{f(l.id,e),M(!1)}}),U&&(0,s.jsx)(j,{environment:l,onClose:()=>I(!1),onConfirm:()=>{E(l.id),I(!1)}}),F&&(0,s.jsx)(g,{environment:l,onClose:()=>_(!1),onConfirm:()=>{P(l.id),_(!1)}}),G&&(0,s.jsx)(b,{environment:l,onClose:()=>L(!1),onConfirm:()=>{var e;y(l.id),L(!1);let s=null==(e=a.environments)?void 0:e.filter(e=>e.id!==l.id&&"deleted"!==e.status);(null==s?void 0:s[0])?z({kind:"environment",envId:s[0].id}):z({kind:"architecture"})}})]}):null})(),"container"===A.kind&&es&&O&&(0,s.jsx)(N,{container:es.data,draftContainer:O,setDraftContainer:V,hasChanges:!!(null==es?void 0:es.data)&&!!O&&"container"===A.kind&&JSON.stringify({resources:O.resources,healthCheck:O.healthCheck,exposure:O.exposure,serviceAccess:O.serviceAccess,environmentVariables:O.environmentVariables})!==JSON.stringify({resources:es.data.resources,healthCheck:es.data.healthCheck,exposure:es.data.exposure,serviceAccess:es.data.serviceAccess,environmentVariables:es.data.environmentVariables}),showChanges:Y,setShowChanges:J,onApply:()=>Z(!0),isApplying:Q,state:n,onRemove:o}),"database"===A.kind&&es&&H&&(0,s.jsx)(w,{database:es.data,draftDatabase:H,setDraftDatabase:$,hasChanges:!!(null==es?void 0:es.data)&&!!H&&"database"===A.kind&&JSON.stringify(H)!==JSON.stringify(es.data),showChanges:Y,setShowChanges:J,onApply:()=>Z(!0),isApplying:Q,state:n,onRemove:c}),"cache"===A.kind&&es&&q&&(0,s.jsx)(C,{cache:es.data,draftCache:q,setDraftCache:W,hasChanges:!!(null==es?void 0:es.data)&&!!q&&"cache"===A.kind&&JSON.stringify(q)!==JSON.stringify(es.data),showChanges:Y,setShowChanges:J,onApply:()=>Z(!0),isApplying:Q,state:n,onRemove:d}),"architecture"===A.kind&&(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-slate-900 mb-2 flex items-center gap-2",children:[(0,s.jsx)("span",{children:"üèóÔ∏è"}),(0,s.jsx)("span",{children:"Architecture Diagram"})]}),(0,s.jsx)("p",{className:"text-slate-600 mb-6",children:"Visual representation of your deployed infrastructure, including container connections and internal DNS."})]}),(0,s.jsx)(S,{state:n})]})]}),K&&(0,s.jsx)(k,{selected:A,selectedResource:es,draftContainer:O,draftDatabase:H,draftCache:q,onCancel:()=>Z(!1),onConfirm:()=>{"container"===A.kind?(null==es?void 0:es.data)&&O&&(Z(!1),X(!0),setTimeout(()=>{r(es.data.id,{resources:O.resources,healthCheck:O.healthCheck,exposure:O.exposure,serviceAccess:O.serviceAccess,environmentVariables:O.environmentVariables}),X(!1)},800)):"database"===A.kind?(()=>{if(!H||!n.resources)return;let e=n.resources;Z(!1),X(!0),setTimeout(()=>{i({replicas:e.replicas,cpu:e.cpu,memory:e.memory,database:H,cache:e.cache}),X(!1)},800)})():"cache"===A.kind&&(()=>{if(!q||!n.resources)return;let e=n.resources;Z(!1),X(!0),setTimeout(()=>{i({replicas:e.replicas,cpu:e.cpu,memory:e.memory,database:e.database,cache:q}),X(!1)},800)})()}})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"üì¶"}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No Projects Yet"}),(0,s.jsx)("p",{className:"text-slate-600 mb-6",children:"Create your first project to get started with Unhazzle"}),(0,s.jsx)("button",{onClick:()=>window.location.href="/questionnaire",className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition font-semibold",children:"Create Project"})]})}function N(e){var t,a,l,n;let{container:r,draftContainer:i,setDraftContainer:c,hasChanges:d,showChanges:o,setShowChanges:x,onApply:m,isApplying:h,state:u,onRemove:p}=e;return(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:r.name||"Application Container"}),(0,s.jsxs)("p",{className:"text-xs text-slate-500",children:["Image: ",r.imageUrl]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>x(!0),disabled:!d||h,className:"px-4 py-2 rounded-lg text-sm font-medium border ".concat(d?"border-amber-300 text-amber-700 bg-amber-50":"border-slate-200 text-slate-400"," disabled:opacity-50"),children:"Show Changes"}),(0,s.jsx)("button",{onClick:m,disabled:!d||h,className:"px-4 py-2 rounded-lg text-sm font-semibold bg-purple-600 text-white hover:bg-purple-700 disabled:opacity-50",children:h?"Applying‚Ä¶":"Apply"}),(0,s.jsx)("button",{onClick:()=>{if((u.containers||[]).length<=1)return void alert("Cannot remove the last container. Your project must have at least one container.");window.confirm('Remove container "'.concat(r.name||"container",'"? This action cannot be undone in demo mode.'))&&p(r.id)},disabled:h,className:"px-4 py-2 rounded-lg text-sm font-medium border border-red-300 text-red-600 hover:bg-red-50 disabled:opacity-50",children:"Remove"})]})]}),"public"===r.exposure&&(()=>{var e;let t=(null==(e=r.imageUrl.split("/").pop())?void 0:e.split(":")[0])||"app",a=r.id.substring(0,6),l="".concat(t,"-").concat(a,".unhazzle.app");return(0,s.jsx)("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Public Endpoint"}),(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded-full",children:"Live"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("code",{className:"text-sm text-purple-600 font-mono",children:["https://",l]}),(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText("https://".concat(l))},className:"p-1 hover:bg-slate-200 rounded transition text-sm",title:"Copy to clipboard",children:"üìã"})]}),(0,s.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:["Port ",r.port," ‚Ä¢ SSL Enabled ‚Ä¢ CDN Cached"]})]})})})})(),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Resources"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"CPU"}),(0,s.jsxs)("select",{value:i.resources.cpu,onChange:e=>c({...i,resources:{...i.resources,cpu:e.target.value}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"0.25",children:"0.25"}),(0,s.jsx)("option",{value:"0.5",children:"0.5"}),(0,s.jsx)("option",{value:"1",children:"1"}),(0,s.jsx)("option",{value:"2",children:"2"}),(0,s.jsx)("option",{value:"4",children:"4"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Memory"}),(0,s.jsxs)("select",{value:i.resources.memory,onChange:e=>c({...i,resources:{...i.resources,memory:e.target.value}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"0.5GB",children:"0.5GB"}),(0,s.jsx)("option",{value:"1GB",children:"1GB"}),(0,s.jsx)("option",{value:"2GB",children:"2GB"}),(0,s.jsx)("option",{value:"4GB",children:"4GB"}),(0,s.jsx)("option",{value:"8GB",children:"8GB"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Replicas (min)"}),(0,s.jsx)("input",{type:"number",min:1,value:i.resources.replicas.min,onChange:e=>c({...i,resources:{...i.resources,replicas:{...i.resources.replicas,min:Math.max(1,parseInt(e.target.value)||1)}}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Set min=max for fixed scaling. Different values enable auto-scaling."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Environment Variables"}),(0,s.jsxs)("div",{className:"space-y-3",children:[0===i.environmentVariables.length&&(0,s.jsx)("div",{className:"text-xs text-slate-500",children:"No variables defined yet."}),i.environmentVariables.map((e,t)=>(0,s.jsxs)("div",{className:"grid md:grid-cols-12 gap-3 items-start",children:[(0,s.jsxs)("div",{className:"md:col-span-4",children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Key"}),(0,s.jsx)("input",{type:"text",value:e.key,onChange:e=>{let s=[...i.environmentVariables];s[t]={...s[t],key:e.target.value},c({...i,environmentVariables:s})},placeholder:"KEY",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm font-mono"})]}),(0,s.jsxs)("div",{className:"md:col-span-6",children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Value"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:!1===e.masked?"text":"password",value:e.value,onChange:e=>{let s=[...i.environmentVariables];s[t]={...s[t],value:e.target.value},c({...i,environmentVariables:s})},placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm font-mono"}),(0,s.jsx)("button",{type:"button",onClick:()=>{let e=[...i.environmentVariables],s=!1!==e[t].masked;e[t]={...e[t],masked:!s},c({...i,environmentVariables:e})},className:"p-2 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-900","aria-label":!1===e.masked?"Hide value":"Show value",title:!1===e.masked?"Hide value":"Show value",children:!1===e.masked?"üëÅÔ∏è‚Äçüó®Ô∏è":"üëÅÔ∏è"})]})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-xs mb-1 invisible",children:"Action"}),(0,s.jsx)("button",{type:"button",onClick:()=>{let e=i.environmentVariables.filter((e,s)=>s!==t);c({...i,environmentVariables:e})},className:"w-full md:w-auto px-3 py-2 text-xs rounded-lg border border-red-300 text-red-700 hover:bg-red-50",children:"Remove"})]})]},t)),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-xs text-slate-500 flex items-center gap-2",children:[(0,s.jsx)("span",{children:"üîê"}),(0,s.jsx)("span",{children:"Values are masked by default and stored encrypted."})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{let e=[...i.environmentVariables,{key:"",value:"",masked:!0}];c({...i,environmentVariables:e})},className:"px-3 py-2 text-xs rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-900",children:"+ Add variable"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Health Check"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Protocol"}),(0,s.jsxs)("select",{value:i.healthCheck.protocol,onChange:e=>c({...i,healthCheck:{...i.healthCheck,protocol:e.target.value}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"HTTP",children:"HTTP"}),(0,s.jsx)("option",{value:"TCP",children:"TCP"}),(0,s.jsx)("option",{value:"gRPC",children:"gRPC"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Port"}),(0,s.jsx)("input",{type:"number",value:i.healthCheck.port,onChange:e=>c({...i,healthCheck:{...i.healthCheck,port:parseInt(e.target.value)||i.port}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Path"}),(0,s.jsx)("input",{type:"text",value:i.healthCheck.path||"",onChange:e=>c({...i,healthCheck:{...i.healthCheck,path:e.target.value}}),placeholder:"/health",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Networking"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Visibility"}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,s.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,s.jsx)("input",{type:"radio",checked:"public"===i.exposure,onChange:()=>c({...i,exposure:"public"})}),(0,s.jsx)("span",{className:"text-slate-900",children:"Public"})]}),(0,s.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,s.jsx)("input",{type:"radio",checked:"private"===i.exposure,onChange:()=>c({...i,exposure:"private"})}),(0,s.jsx)("span",{className:"text-slate-900",children:"Private"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Domain"}),(0,s.jsx)("div",{className:"text-sm text-slate-900",children:(null==(t=u.domain)?void 0:t.customDomain)||"".concat(null==(a=u.domain)?void 0:a.defaultSubdomain,".unhazzle.app")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Port"}),(0,s.jsx)("div",{className:"text-sm font-mono text-slate-900",children:i.port})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Service Access"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(null==(l=u.resources)?void 0:l.database)&&(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:i.serviceAccess.database,onChange:e=>{let s=e.target.checked,t="UNHAZZLE_POSTGRES_URL",a=[...i.environmentVariables];s?a.some(e=>e.key===t)||a.push({key:t,value:"",masked:!1}):a=a.filter(e=>e.key!==t),c({...i,serviceAccess:{...i.serviceAccess,database:s},environmentVariables:a})}}),(0,s.jsx)("span",{className:"text-slate-900",children:"PostgreSQL"})]}),(null==(n=u.resources)?void 0:n.cache)&&(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:i.serviceAccess.cache,onChange:e=>{let s=e.target.checked,t="UNHAZZLE_REDIS_URL",a=[...i.environmentVariables];s?a.some(e=>e.key===t)||a.push({key:t,value:"",masked:!1}):a=a.filter(e=>e.key!==t),c({...i,serviceAccess:{...i.serviceAccess,cache:s},environmentVariables:a})}}),(0,s.jsx)("span",{className:"text-slate-900",children:"Redis"})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Connection strings are auto-injected as environment variables."})]})]}),o&&d&&(0,s.jsx)(y,{current:r,draft:i,onClose:()=>x(!1)})]})}function y(e){let{current:t,draft:a,onClose:l}=e,n=c(t.resources.cpu,t.resources.memory,t.resources.replicas,a.resources.cpu,a.resources.memory,a.resources.replicas);return(0,s.jsxs)("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h5",{className:"font-semibold text-amber-900",children:"üìù Pending Changes"}),(0,s.jsx)("button",{onClick:l,className:"text-xs text-amber-700 underline",children:"Hide"})]}),(0,s.jsxs)("ul",{className:"text-sm text-amber-900 list-disc ml-5 space-y-1",children:[t.resources.cpu!==a.resources.cpu&&(0,s.jsxs)("li",{children:["CPU: ",t.resources.cpu," ‚Üí ",a.resources.cpu]}),t.resources.memory!==a.resources.memory&&(0,s.jsxs)("li",{children:["Memory: ",t.resources.memory," ‚Üí ",a.resources.memory]}),t.resources.replicas.min!==a.resources.replicas.min&&(0,s.jsxs)("li",{children:["Replicas (min): ",t.resources.replicas.min," ‚Üí ",a.resources.replicas.min]}),t.exposure!==a.exposure&&(0,s.jsxs)("li",{children:["Visibility: ",t.exposure," ‚Üí ",a.exposure]}),JSON.stringify(t.environmentVariables)!==JSON.stringify(a.environmentVariables)&&(0,s.jsx)("li",{children:"Environment variables updated"})]}),(0,s.jsxs)("div",{className:"text-xs text-amber-800 mt-3",children:["Impact: CPU/RAM changes require rolling restart. Estimated duration: ~2 minutes. Zero-downtime ensured.",0!==n&&(0,s.jsxs)("div",{className:"font-semibold mt-1",children:["üí∞ Cost impact: ",n>0?"+":"","$",Math.abs(n).toFixed(2),"/month"]})]})]})}function w(e){let{database:t,draftDatabase:a,setDraftDatabase:l,hasChanges:n,showChanges:r,setShowChanges:i,onApply:c,isApplying:o,state:x,onRemove:m}=e;return(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:"PostgreSQL Database"}),(0,s.jsxs)("p",{className:"text-xs text-slate-500",children:["Managed ",a.engine," instance"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>i(!0),disabled:!n||o,className:"px-4 py-2 rounded-lg text-sm font-medium border ".concat(n?"border-amber-300 text-amber-700 bg-amber-50":"border-slate-200 text-slate-400"," disabled:opacity-50"),children:"Show Changes"}),(0,s.jsx)("button",{onClick:c,disabled:!n||o,className:"px-4 py-2 rounded-lg text-sm font-semibold bg-purple-600 text-white hover:bg-purple-700 disabled:opacity-50",children:o?"Applying‚Ä¶":"Apply"}),(0,s.jsx)("button",{onClick:()=>{if((x.containers||[]).some(e=>{var s;return null==(s=e.serviceAccess)?void 0:s.database}))return void alert("Cannot remove database: one or more containers are still connected. Disable database access in container settings first.");window.confirm("Remove database from deployed configuration? This action cannot be undone in demo mode.")&&m()},disabled:o,className:"px-4 py-2 rounded-lg text-sm font-medium border border-red-300 text-red-600 hover:bg-red-50 disabled:opacity-50",children:"Remove"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Resources"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"CPU"}),(0,s.jsxs)("select",{value:a.cpu,onChange:e=>l({...a,cpu:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"0.5",children:"0.5"}),(0,s.jsx)("option",{value:"1",children:"1"}),(0,s.jsx)("option",{value:"2",children:"2"}),(0,s.jsx)("option",{value:"4",children:"4"}),(0,s.jsx)("option",{value:"8",children:"8"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Memory"}),(0,s.jsxs)("select",{value:a.memory,onChange:e=>l({...a,memory:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"1GB",children:"1GB"}),(0,s.jsx)("option",{value:"2GB",children:"2GB"}),(0,s.jsx)("option",{value:"4GB",children:"4GB"}),(0,s.jsx)("option",{value:"8GB",children:"8GB"}),(0,s.jsx)("option",{value:"16GB",children:"16GB"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Storage"}),(0,s.jsxs)("select",{value:a.storage,onChange:e=>l({...a,storage:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"10GB",children:"10GB"}),(0,s.jsx)("option",{value:"20GB",children:"20GB"}),(0,s.jsx)("option",{value:"50GB",children:"50GB"}),(0,s.jsx)("option",{value:"100GB",children:"100GB"}),(0,s.jsx)("option",{value:"200GB",children:"200GB"}),(0,s.jsx)("option",{value:"500GB",children:"500GB"})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Backups"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Frequency"}),(0,s.jsxs)("select",{value:a.backups.frequency,onChange:e=>l({...a,backups:{...a.backups,frequency:e.target.value}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"hourly",children:"Hourly"}),(0,s.jsx)("option",{value:"daily",children:"Daily"}),(0,s.jsx)("option",{value:"weekly",children:"Weekly"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Retention"}),(0,s.jsxs)("select",{value:a.backups.retention,onChange:e=>l({...a,backups:{...a.backups,retention:e.target.value}}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"7 days",children:"7 days"}),(0,s.jsx)("option",{value:"14 days",children:"14 days"}),(0,s.jsx)("option",{value:"30 days",children:"30 days"}),(0,s.jsx)("option",{value:"90 days",children:"90 days"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Enabled"}),(0,s.jsxs)("label",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:a.backups.enabled,onChange:e=>l({...a,backups:{...a.backups,enabled:e.target.checked}})}),(0,s.jsx)("span",{className:"text-sm text-slate-900",children:"Automatic backups"})]})]})]})]}),r&&n&&(0,s.jsxs)("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h5",{className:"font-semibold text-amber-900",children:"üìù Pending Changes"}),(0,s.jsx)("button",{onClick:()=>i(!1),className:"text-xs text-amber-700 underline",children:"Hide"})]}),(0,s.jsxs)("ul",{className:"text-sm text-amber-900 list-disc ml-5 space-y-1",children:[t.cpu!==a.cpu&&(0,s.jsxs)("li",{children:["CPU: ",t.cpu," ‚Üí ",a.cpu]}),t.memory!==a.memory&&(0,s.jsxs)("li",{children:["Memory: ",t.memory," ‚Üí ",a.memory]}),t.storage!==a.storage&&(0,s.jsxs)("li",{children:["Storage: ",t.storage," ‚Üí ",a.storage]})]}),(0,s.jsxs)("div",{className:"text-xs text-amber-800 mt-3",children:["Impact: Storage changes are instant. CPU/Memory changes require brief maintenance window (~3 min).",(()=>{let e=d(t,a);return 0!==e?(0,s.jsxs)("div",{className:"font-semibold mt-1",children:["üí∞ Cost impact: ",e>0?"+":"","$",Math.abs(e).toFixed(2),"/month"]}):null})()]})]})]})}function C(e){let{cache:t,draftCache:a,setDraftCache:l,hasChanges:n,showChanges:r,setShowChanges:i,onApply:c,isApplying:d,state:x,onRemove:m}=e;return(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:"Redis Cache"}),(0,s.jsxs)("p",{className:"text-xs text-slate-500",children:["Managed ",a.engine," instance"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>i(!0),disabled:!n||d,className:"px-4 py-2 rounded-lg text-sm font-medium border ".concat(n?"border-amber-300 text-amber-700 bg-amber-50":"border-slate-200 text-slate-400"," disabled:opacity-50"),children:"Show Changes"}),(0,s.jsx)("button",{onClick:c,disabled:!n||d,className:"px-4 py-2 rounded-lg text-sm font-semibold bg-purple-600 text-white hover:bg-purple-700 disabled:opacity-50",children:d?"Applying‚Ä¶":"Apply"}),(0,s.jsx)("button",{onClick:()=>{if((x.containers||[]).some(e=>{var s;return null==(s=e.serviceAccess)?void 0:s.cache}))return void alert("Cannot remove cache: one or more containers are still connected. Disable cache access in container settings first.");window.confirm("Remove cache from deployed configuration? This action cannot be undone in demo mode.")&&m()},disabled:d,className:"px-4 py-2 rounded-lg text-sm font-medium border border-red-300 text-red-600 hover:bg-red-50 disabled:opacity-50",children:"Remove"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Resources"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Memory"}),(0,s.jsxs)("select",{value:a.memory,onChange:e=>l({...a,memory:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"256MB",children:"256MB"}),(0,s.jsx)("option",{value:"512MB",children:"512MB"}),(0,s.jsx)("option",{value:"1GB",children:"1GB"}),(0,s.jsx)("option",{value:"2GB",children:"2GB"}),(0,s.jsx)("option",{value:"4GB",children:"4GB"}),(0,s.jsx)("option",{value:"8GB",children:"8GB"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Version"}),(0,s.jsxs)("select",{value:a.version,onChange:e=>l({...a,version:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"7.2",children:"7.2 (Latest)"}),(0,s.jsx)("option",{value:"7.0",children:"7.0"}),(0,s.jsx)("option",{value:"6.2",children:"6.2"})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Configuration"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Eviction Policy"}),(0,s.jsxs)("select",{value:a.evictionPolicy,onChange:e=>l({...a,evictionPolicy:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"allkeys-lru",children:"allkeys-lru (Recommended)"}),(0,s.jsx)("option",{value:"volatile-lru",children:"volatile-lru"}),(0,s.jsx)("option",{value:"allkeys-lfu",children:"allkeys-lfu"}),(0,s.jsx)("option",{value:"volatile-lfu",children:"volatile-lfu"}),(0,s.jsx)("option",{value:"noeviction",children:"noeviction"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Persistence"}),(0,s.jsxs)("select",{value:a.persistence,onChange:e=>l({...a,persistence:e.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[(0,s.jsx)("option",{value:"aof",children:"AOF (Append-only file)"}),(0,s.jsx)("option",{value:"rdb",children:"RDB (Snapshots)"}),(0,s.jsx)("option",{value:"both",children:"Both (AOF + RDB)"}),(0,s.jsx)("option",{value:"none",children:"None (In-memory only)"})]})]})]})]}),r&&n&&(0,s.jsxs)("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h5",{className:"font-semibold text-amber-900",children:"üìù Pending Changes"}),(0,s.jsx)("button",{onClick:()=>i(!1),className:"text-xs text-amber-700 underline",children:"Hide"})]}),(0,s.jsxs)("ul",{className:"text-sm text-amber-900 list-disc ml-5 space-y-1",children:[t.memory!==a.memory&&(0,s.jsxs)("li",{children:["Memory: ",t.memory," ‚Üí ",a.memory]}),t.version!==a.version&&(0,s.jsxs)("li",{children:["Version: ",t.version," ‚Üí ",a.version]}),t.evictionPolicy!==a.evictionPolicy&&(0,s.jsxs)("li",{children:["Eviction Policy: ",t.evictionPolicy," ‚Üí ",a.evictionPolicy]})]}),(0,s.jsxs)("div",{className:"text-xs text-amber-800 mt-3",children:["Impact: Memory changes require restart (~30 sec). Data persisted if AOF/RDB enabled.",(()=>{let e=o(t.memory,a.memory);return 0!==e?(0,s.jsxs)("div",{className:"font-semibold mt-1",children:["üí∞ Cost impact: ",e>0?"+":"","$",Math.abs(e).toFixed(2),"/month"]}):null})()]})]})]})}function k(e){var t;let{selected:a,selectedResource:l,draftContainer:n,draftDatabase:r,draftCache:i,onCancel:x,onConfirm:m}=e;return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:"‚ö†Ô∏è"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Apply Configuration Changes?"}),"container"===a.kind&&l&&n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"text-sm text-slate-700 mb-4",children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:"Summary:"}),(0,s.jsxs)("p",{className:"text-slate-600",children:["Container: ",(0,s.jsx)("span",{className:"font-mono",children:l.data.name||(null==(t=l.data.imageUrl.split("/").pop())?void 0:t.split(":")[0])})]}),(0,s.jsxs)("ul",{className:"list-disc ml-5 mt-2 space-y-1 text-slate-600",children:[l.data.resources.cpu!==n.resources.cpu&&(0,s.jsxs)("li",{children:["CPU: ",l.data.resources.cpu," ‚Üí ",n.resources.cpu," cores"]}),l.data.resources.memory!==n.resources.memory&&(0,s.jsxs)("li",{children:["Memory: ",l.data.resources.memory," ‚Üí ",n.resources.memory]}),l.data.resources.replicas.min!==n.resources.replicas.min&&(0,s.jsxs)("li",{children:["Min replicas: ",l.data.resources.replicas.min," ‚Üí ",n.resources.replicas.min]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2 text-sm",children:[(0,s.jsx)("p",{className:"font-medium text-slate-900",children:"Impact Assessment:"}),(0,s.jsx)("p",{className:"text-slate-600",children:"‚ö†Ô∏è Rolling restart required"}),(0,s.jsx)("p",{className:"text-slate-600",children:"‚è±Ô∏è Estimated time: ~2 minutes"}),(0,s.jsx)("p",{className:"text-slate-600",children:"‚úÖ No expected traffic disruption"}),(()=>{let e=c(l.data.resources.cpu,l.data.resources.memory,l.data.resources.replicas,n.resources.cpu,n.resources.memory,n.resources.replicas);return 0!==e?(0,s.jsxs)("p",{className:"text-slate-600 font-medium",children:["üí∞ Cost impact: ",e>0?"+":"","$",Math.abs(e).toFixed(2),"/month"]}):null})()]})]}),"database"===a.kind&&l&&r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"text-sm text-slate-700 mb-4",children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:"Summary:"}),(0,s.jsxs)("p",{className:"text-slate-600",children:["Resource: ",(0,s.jsx)("span",{className:"font-mono",children:"PostgreSQL Database"})]}),(0,s.jsxs)("ul",{className:"list-disc ml-5 mt-2 space-y-1 text-slate-600",children:[l.data.cpu!==r.cpu&&(0,s.jsxs)("li",{children:["CPU: ",l.data.cpu," ‚Üí ",r.cpu," cores"]}),l.data.memory!==r.memory&&(0,s.jsxs)("li",{children:["Memory: ",l.data.memory," ‚Üí ",r.memory]}),l.data.storage!==r.storage&&(0,s.jsxs)("li",{children:["Storage: ",l.data.storage," ‚Üí ",r.storage]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2 text-sm",children:[(0,s.jsx)("p",{className:"font-medium text-slate-900",children:"Impact Assessment:"}),(0,s.jsx)("p",{className:"text-slate-600",children:"‚ö†Ô∏è Maintenance window required for CPU/Memory changes"}),(0,s.jsx)("p",{className:"text-slate-600",children:"‚è±Ô∏è Estimated time: ~3 minutes"}),(0,s.jsx)("p",{className:"text-slate-600",children:"‚úÖ Zero data loss guaranteed"}),(()=>{let e=d(l.data,r);return 0!==e?(0,s.jsxs)("p",{className:"text-slate-600 font-medium",children:["üí∞ Cost impact: ",e>0?"+":"","$",Math.abs(e).toFixed(2),"/month"]}):null})()]})]}),"cache"===a.kind&&l&&i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"text-sm text-slate-700 mb-4",children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:"Summary:"}),(0,s.jsxs)("p",{className:"text-slate-600",children:["Resource: ",(0,s.jsx)("span",{className:"font-mono",children:"Redis Cache"})]}),(0,s.jsxs)("ul",{className:"list-disc ml-5 mt-2 space-y-1 text-slate-600",children:[l.data.memory!==i.memory&&(0,s.jsxs)("li",{children:["Memory: ",l.data.memory," ‚Üí ",i.memory]}),l.data.version!==i.version&&(0,s.jsxs)("li",{children:["Version: ",l.data.version," ‚Üí ",i.version]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2 text-sm",children:[(0,s.jsx)("p",{className:"font-medium text-slate-900",children:"Impact Assessment:"}),(0,s.jsx)("p",{className:"text-slate-600",children:"‚ö†Ô∏è Restart required (~30 seconds)"}),(0,s.jsx)("p",{className:"text-slate-600",children:"‚úÖ Data persisted if AOF/RDB enabled"}),(()=>{let e=o(l.data.memory,i.memory);return 0!==e?(0,s.jsxs)("p",{className:"text-slate-600 font-medium",children:["üí∞ Cost impact: ",e>0?"+":"","$",Math.abs(e).toFixed(2),"/month"]}):null})()]})]}),(0,s.jsx)("p",{className:"text-sm text-slate-600 mt-4",children:"Are you sure you want to apply these changes?"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[(0,s.jsx)("button",{onClick:x,className:"px-5 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50 font-medium",children:"Cancel"}),(0,s.jsx)("button",{onClick:m,className:"px-5 py-2 rounded-lg bg-purple-600 text-white hover:bg-purple-700 font-medium",children:"Apply Changes"})]})]})})}function S(e){var t,a,l,n;let{state:r}=e,i=r.containers.filter(e=>"public"===e.exposure),c=r.containers.filter(e=>"private"===e.exposure),d=i.length>0,o=!!(null==(t=r.resources)?void 0:t.database),x=!!(null==(a=r.resources)?void 0:a.cache),m=e=>{var s;return(null==(s=e.split("/").pop())?void 0:s.split(":")[0])||"container"},h=e=>e.serviceName||"container-".concat(e.id.substring(0,8));return(0,s.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-8 border border-slate-200",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-8",children:[d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-purple-500 text-white rounded-lg p-6 shadow-lg text-center min-w-[200px]",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"‚öñÔ∏è"}),(0,s.jsx)("div",{className:"font-bold",children:"Load Balancer"}),(0,s.jsx)("div",{className:"text-sm opacity-90 mt-1",children:(null==(l=r.domain)?void 0:l.customDomain)||"".concat(null==(n=r.domain)?void 0:n.defaultSubdomain,".unhazzle.io")})]}),(0,s.jsx)("div",{className:"text-slate-400",children:(0,s.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",children:[(0,s.jsx)("line",{x1:"20",y1:"0",x2:"20",y2:"30",stroke:"currentColor",strokeWidth:"3"}),(0,s.jsx)("polygon",{points:"20,40 15,30 25,30",fill:"currentColor"})]})})]}),i.length>0&&(0,s.jsx)("div",{className:"flex gap-6 flex-wrap justify-center",children:i.map((e,t)=>{let a=m(e.imageUrl),l=h(e),n=r.containers.indexOf(e)+1;return(0,s.jsxs)("div",{className:"bg-blue-500 text-white rounded-lg p-4 shadow-lg text-center min-w-[160px]",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:"üöÄ"}),(0,s.jsxs)("div",{className:"font-bold text-sm",children:["Container ",n]}),(0,s.jsx)("div",{className:"text-xs opacity-90 mt-1",children:a}),(0,s.jsxs)("div",{className:"text-xs opacity-75 mt-2",children:[":",e.port]}),(0,s.jsxs)("div",{className:"text-xs font-mono bg-blue-600 rounded px-2 py-1 mt-2",children:[l,".internal"]})]},e.id)})}),c.length>0&&(0,s.jsxs)(s.Fragment,{children:[i.length>0&&(0,s.jsx)("div",{className:"text-slate-400 text-sm",children:"Internal Network"}),(0,s.jsx)("div",{className:"flex gap-6 flex-wrap justify-center",children:c.map((e,t)=>{let a=m(e.imageUrl),l=h(e),n=r.containers.indexOf(e)+1;return(0,s.jsxs)("div",{className:"bg-slate-500 text-white rounded-lg p-4 shadow-lg text-center min-w-[160px]",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:"üîí"}),(0,s.jsxs)("div",{className:"font-bold text-sm",children:["Container ",n]}),(0,s.jsx)("div",{className:"text-xs opacity-90 mt-1",children:a}),(0,s.jsxs)("div",{className:"text-xs opacity-75 mt-2",children:[":",e.port]}),(0,s.jsxs)("div",{className:"text-xs font-mono bg-slate-600 rounded px-2 py-1 mt-2",children:[l,".internal"]})]},e.id)})})]}),(o||x)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-slate-400 text-sm",children:"Backend Services"}),(0,s.jsxs)("div",{className:"flex gap-6",children:[o&&(0,s.jsxs)("div",{className:"bg-green-500 text-white rounded-lg p-4 shadow-lg text-center min-w-[160px]",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:"üêò"}),(0,s.jsx)("div",{className:"font-bold text-sm",children:"PostgreSQL"}),(0,s.jsxs)("div",{className:"text-xs opacity-90 mt-1",children:[r.resources.database.cpu," CPU"]}),(0,s.jsx)("div",{className:"text-xs font-mono bg-green-600 rounded px-2 py-1 mt-2",children:"postgres.internal"})]}),x&&(0,s.jsxs)("div",{className:"bg-red-500 text-white rounded-lg p-4 shadow-lg text-center min-w-[160px]",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:"‚ö°"}),(0,s.jsx)("div",{className:"font-bold text-sm",children:"Redis"}),(0,s.jsxs)("div",{className:"text-xs opacity-90 mt-1",children:[r.resources.cache.memory," RAM"]}),(0,s.jsx)("div",{className:"text-xs font-mono bg-red-600 rounded px-2 py-1 mt-2",children:"redis.internal"})]})]})]})]}),(0,s.jsxs)("div",{className:"mt-8 pt-6 border-t border-slate-300 flex flex-wrap gap-4 justify-center text-sm",children:[d&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-purple-500 rounded"}),(0,s.jsx)("span",{className:"text-slate-700",children:"Public Internet"})]}),i.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded"}),(0,s.jsx)("span",{className:"text-slate-700",children:"Public Container"})]}),c.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-slate-500 rounded"}),(0,s.jsx)("span",{className:"text-slate-700",children:"Private Container"})]}),o&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded"}),(0,s.jsx)("span",{className:"text-slate-700",children:"Database"})]}),x&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded"}),(0,s.jsx)("span",{className:"text-slate-700",children:"Cache"})]})]})]})}function E(e){var s,t,a,l,n,r,i,c,d,o,x,m,h,u,p;let b=(null==(s=e.questionnaire)?void 0:s.appType)||"web",j=null==(t=e.resources)?void 0:t.database,g=null==(a=e.resources)?void 0:a.cache;null==(l=e.environment)||l.autogenerated;let v=(null==(n=e.environment)?void 0:n.userSecrets)||{},f="environment:\n";j&&(f+="  DATABASE_URL: ${{ secrets.DATABASE_URL }}\n"),g&&(f+="  REDIS_URL: ${{ secrets.REDIS_URL }}\n"),Object.keys(v).length>0&&Object.keys(v).forEach(e=>{f+="  ".concat(e,": ${{ secrets.").concat(e," }}\n")}),"ecommerce"===b?(f+="  NODE_ENV: production\n",f+="  STRIPE_PUBLIC_KEY: ${{ secrets.STRIPE_PUBLIC_KEY }}\n",f+="  STRIPE_SECRET_KEY: ${{ secrets.STRIPE_SECRET_KEY }}\n",f+="  STRIPE_WEBHOOK_SECRET: ${{ secrets.STRIPE_WEBHOOK_SECRET }}\n",f+="  NEXTAUTH_URL: https://".concat((null==(m=e.domain)?void 0:m.customDomain)||(null==(h=e.domain)?void 0:h.defaultSubdomain),"\n"),f+="  NEXTAUTH_SECRET: ${{ secrets.NEXTAUTH_SECRET }}\n"):"saas"===b?(f+="  NODE_ENV: production\n",f+="  API_KEY: ${{ secrets.API_KEY }}\n",f+="  JWT_SECRET: ${{ secrets.JWT_SECRET }}\n",f+="  APP_URL: https://".concat((null==(u=e.domain)?void 0:u.customDomain)||(null==(p=e.domain)?void 0:p.defaultSubdomain),"\n")):(f+="  NODE_ENV: production\n",f+="  LOG_LEVEL: info\n");let N="";return e.containers&&e.containers.length>0&&(N="containers:\n",e.containers.forEach((e,s)=>{var t;let a=(null==(t=e.imageUrl.split("/").pop())?void 0:t.split(":")[0])||"container-".concat(s+1);N+="  - name: ".concat(a,"\n"),N+="    image: ".concat(e.imageUrl,"\n"),N+="    port: ".concat(e.port,"\n"),N+="    exposure: ".concat(e.exposure,"\n"),N+="    resources:\n",N+="      cpu: ".concat(e.resources.cpu,"\n"),N+="      memory: ".concat(e.resources.memory,"\n"),N+="      replicas:\n",N+="        min: ".concat(e.resources.replicas.min,"\n"),N+="        max: ".concat(e.resources.replicas.max,"\n"),e.volume&&(N+="    volume:\n",N+="      mount_path: ".concat(e.volume.mountPath,"\n"),N+="      size: ".concat(e.volume.sizeGB,"GB\n"),N+="      auto_scale: ".concat(e.volume.autoScale,"\n"),N+="      backup_frequency: ".concat(e.volume.backupFrequency,"\n"),N+="      delete_with_container: ".concat(e.volume.deleteWithContainer,"\n")),N+="\n"})),"# Unhazzle Deployment Configuration\n# Generated from your application setup\n# Reference: https://docs.unhazzle.io/yaml-config\n\nproject: ".concat((null==(i=e.user)||null==(r=i.name)?void 0:r.toLowerCase().replace(/\s+/g,"-"))||"my-app","\nenvironment: production\n\ndomain: ").concat((null==(c=e.domain)?void 0:c.customDomain)||(null==(d=e.domain)?void 0:d.defaultSubdomain)||"your-app.unhazzle.io","\nssl: true  # Auto-provisioned with Let's Encrypt\n\n").concat(N).concat(j?"services:\n  database:\n    type: ".concat(e.resources.database.engine,'\n    version: "').concat("postgres"===e.resources.database.engine?"16":"8.0",'"\n    cpu: ').concat(e.resources.database.cpu,"\n    memory: ").concat(e.resources.database.memory,"\n    storage: ").concat(e.resources.database.storage,'\n    backups:\n      enabled: true\n      retention_days: 30\n      frequency: daily\n      time: "02:00"  # 2 AM UTC\n    ha_replica: true\n    connection_pooling: true\n'):"services: {}  # No database services\n","\n").concat(g?"  cache:\n    type: ".concat(e.resources.cache.engine,'\n    version: "').concat("redis"===e.resources.cache.engine?"7.2":"latest",'"\n    memory: ').concat(e.resources.cache.memory,"\n    persistence: true\n    eviction_policy: allkeys-lru\n"):"","\n\n").concat(f,"\n\n# Monitoring and alerting\nmonitoring:\n  enabled: true\n  metrics_retention: 90d\n  alerts:\n    - name: high_cpu\n      threshold: 85%\n      duration: 5m\n    - name: high_memory\n      threshold: 90%\n      duration: 5m\n    - name: deployment_failure\n      threshold: any\n      duration: 1m\n\n# Security\nsecurity:\n  auto_https: true\n  hsts_enabled: true\n  cors_origins:\n    - https://").concat((null==(o=e.domain)?void 0:o.customDomain)||(null==(x=e.domain)?void 0:x.defaultSubdomain),"\n\n# For more information, visit: https://docs.unhazzle.io/yaml-configuration\n")}function P(){return"name: Deploy to Unhazzle\n\non:\n  push:\n    branches:\n      - main\n    paths:\n      - 'unhazzle.yaml'\n      - 'src/**'\n      - 'package.json'\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    \n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v4\n      \n      - name: Install Unhazzle CLI\n        run: npm install -g @unhazzle/cli\n      \n      - name: Authenticate with Unhazzle\n        env:\n          UNHAZZLE_TOKEN: ${{ secrets.UNHAZZLE_TOKEN }}\n        run: unhazzle auth token $UNHAZZLE_TOKEN\n      \n      - name: Deploy application\n        run: unhazzle deploy --config unhazzle.yaml\n      \n      - name: Wait for deployment\n        run: unhazzle status --wait\n\n      - name: Run health checks\n        run: unhazzle health-check\n\n      - name: Comment PR with deployment info\n        uses: actions/github-script@v7\n        if: github.event_name == 'pull_request'\n        with:\n          script: |\n            const deploymentStatus = await exec('unhazzle status --json');\n            github.rest.issues.createComment({\n              issue_number: context.issue.number,\n              owner: context.repo.owner,\n              repo: context.repo.repo,\n              body: `‚úÖ Deployed to Unhazzle!\n\nView your app: https://app.unhazzle.io`\n            });\n"}}]);