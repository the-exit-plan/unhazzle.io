(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23876,e=>{"use strict";function a(e,a,r,n){let c=t(e.replicas,e.cpu,e.memory),o=r?function(e,a){let t=.044*e.sizeGB,s=0;return"disabled"!==e.backupFrequency&&(s=.2*a),Math.round((t+s)*100)/100}(r,n||c):0,i=c+o,d=e.database?s(e.database.cpu,e.database.memory,e.database.storage,e.database.replicas):void 0,u=e.cache?l(e.cache.memory):void 0,m=function(e){switch(e){case"global":return 25;case"burst":return 15;case"steady":default:return 10;case"regional":return 8}}(a.traffic),p=Math.round(1.3*(i+(d||0)+(u||0)+12+m)*100)/100;return{application:i,database:d,cache:u,loadBalancer:12,bandwidth:m,total:p}}function t(e,a,t){let s,l=parseFloat(a),r=parseFloat(t);return s=l<=1&&r<=2?4.99:l<=2&&r<=4?5.49:l<=4&&r<=8?9.49:17.49,Math.round(Math.ceil((e.min+e.max)/2/2)*s)}function s(e,a,t,s){let l,r,n=parseFloat(e),c=parseFloat(a);return l=t.includes("TB")?1e3*parseFloat(t):parseFloat(t),r=n<=1&&c<=2?4.99:n<=2&&c<=4?5.49:n<=4&&c<=8?9.49:n<=8&&c<=16?17.49:34.49,(s.includes("HA")||s.includes("Multi-region"))&&(r*=2),Math.round((r+.044*l)*100)/100}function l(e){let a=parseFloat(e.replace("MB","").replace("GB",""))*(e.includes("GB")?1024:1);return a<1024?0:a<=2048?4.99:5.49}function r(e,a,s,l,r,n){let c=t(s,e,a);return Math.round((t(n,l,r)-c)*100)/100}function n(e,a){let t=s(e.cpu,e.memory,e.storage,e.replicas);return Math.round((s(a.cpu,a.memory,a.storage,a.replicas)-t)*100)/100}function c(e,a){let t=l(e);return Math.round((l(a)-t)*100)/100}function o(e){let a=0,t=0,r={applications:[],database:void 0,cache:void 0,loadBalancer:12,bandwidth:10};if(e.applications&&e.applications.length>0&&e.applications.forEach(e=>{var s,l,n,c,o,i;let d,u=parseFloat((null==(s=e.resources)?void 0:s.cpu)||"0.5"),m=parseFloat((null==(l=e.resources)?void 0:l.memory)||"512")/1024,p=(null==(c=e.resources)||null==(n=c.replicas)?void 0:n.min)||1,h=(null==(i=e.resources)||null==(o=i.replicas)?void 0:o.max)||1,x=Math.ceil(p/2)*(d=u<=1&&m<=2?4.99:u<=2&&m<=4?5.49:u<=4&&m<=8?9.49:17.49),b=Math.ceil(h/2)*d;r.applications.push({name:e.name,current:x,max:b}),a+=x,t+=b}),e.database){let l=s(e.database.cpu,e.database.memory,e.database.storage,e.database.replicas);r.database=l,a+=l,t+=l}if(e.cache){let s=l(e.cache.memory);r.cache=s,a+=s,t+=s}return a+=r.loadBalancer+r.bandwidth,t+=r.loadBalancer+r.bandwidth,{current:Math.round(100*a)/100,max:Math.round(100*t)/100,breakdown:r}}e.s(["calculateApplicationCostImpact",()=>r,"calculateCacheCostImpact",()=>c,"calculateCost",()=>a,"calculateDatabaseCostImpact",()=>n,"calculateEnvironmentCost",()=>o])},36859,e=>{"use strict";e.s(["default",()=>o],36859);var a=e.i(43476),t=e.i(71645),s=e.i(18566),l=e.i(23312);function r(e){return"".concat(e%1==0?e.toFixed(0):e," vCPU")}function n(e){return"".concat(e,"GB")}var c=e.i(23876);function o(){var e;let o=(0,s.useRouter)(),{state:i,updateState:d}=(0,l.useDeployment)(),[u,m]=(0,t.useState)(i.projectName||""),[p,h]=(0,t.useState)(i.region),[x,b]=(0,t.useState)(!1),[v,f]=(0,t.useState)(i.smartQuestionnaire||null),[g,j]=(0,t.useState)(i.recommendations||null),y=(0,t.useMemo)(()=>0===u.length||u.length>=3&&u.length<=63&&/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/.test(u),[u]),N=v&&v.traffic&&v.latency&&v.workload&&v.startup&&v.spikiness;return(0,t.useEffect)(()=>{if(N&&v){let e=function(e){var a,t;let s,l,c=function(e){switch(e){case"<1k":case"1k-10k":return 1;case"10k-100k":return 2;case"100k-1m":return 5;default:return 8}}(e.traffic),o=function(e){switch(e){case"<50ms":return{cpu:2,memGB:4,threshold:50};case"50-200ms":return{cpu:1,memGB:2,threshold:70};case"200-500ms":return{cpu:.5,memGB:1,threshold:80};default:return{cpu:.5,memGB:1,threshold:85}}}(e.latency),i=function(e){switch(e){case"cpu":return{cpu:4,memGB:2};case"memory":return{cpu:1,memGB:8};case"io":return{cpu:1,memGB:2};default:return{cpu:2,memGB:4}}}(e.workload),d=Math.max(o.cpu,i.cpu),u=Math.max(o.memGB,i.memGB),{min:m,max:p}=(a=e.spikiness,t=e.startup,s=c,l=2,"daily"===a?(s=Math.max(1,Math.min(2,c)),l=3):"weekly"===a?(s=Math.max(1,Math.min(2,c)),l=5):"unpredictable"===a&&(s=Math.max(2,Math.min(3,c)),l=10),">30s"===t?s=Math.max(s,c):"15-30s"===t&&(s=Math.max(s,2)),{min:s,max:s*l}),h=function(e){switch(e){case"<5s":return 2;case"5-15s":return 5;case"15-30s":return 10;default:return 15}}(e.startup),x="".concat(e.spikiness," traffic + ").concat(e.latency," latency and ").concat(e.workload," workload â‡’ ").concat(r(d)," / ").concat(n(u)," per replica with HPA ").concat(m,"â€“").concat(p,", scale at ").concat(o.threshold,"% CPU, ").concat(h,"m cooldown.");return{replicasBase:c,cpuPerReplica:r(d),memoryPerReplica:n(u),hpaMin:m,hpaMax:p,hpaThreshold:o.threshold,hpaCooldown:h,rationale:x}}(v);j(e),d({smartQuestionnaire:v,recommendations:e})}},[null==v?void 0:v.traffic,null==v?void 0:v.latency,null==v?void 0:v.workload,null==v?void 0:v.startup,null==v?void 0:v.spikiness]),(0,t.useMemo)(()=>{if(!g)return null;let e={replicas:{min:g.hpaMin,max:g.hpaMin},cpu:g.cpuPerReplica,memory:g.memoryPerReplica},a={replicas:{min:g.hpaMax,max:g.hpaMax},cpu:g.cpuPerReplica,memory:g.memoryPerReplica},t={appType:"api",traffic:v?({steady:"steady",daily:"regional",weekly:"regional",unpredictable:"burst"})[v.spikiness]:"steady",database:"none",cache:"none"};return{min:(0,c.calculateCost)(e,t).total,max:(0,c.calculateCost)(a,t).total}},[g,v]),(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-12 px-4",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 bg-purple-100 text-purple-700 px-4 py-2 rounded-full text-sm font-medium mb-4",children:[(0,a.jsx)("span",{role:"img","aria-label":"waving hand",children:"ðŸ‘‹"}),(0,a.jsxs)("span",{children:["Welcome",(null==(e=i.user)?void 0:e.name)?", ".concat(i.user.name):"","!"]})]}),(0,a.jsx)("h1",{className:"text-4xl font-bold text-slate-900 mb-3",children:"Create your project"}),(0,a.jsx)("p",{className:"text-lg text-slate-600",children:"Name it, pick a region. Smart assistance is optional."})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Project basics"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Project name"}),(0,a.jsx)("input",{value:u,onChange:e=>m(e.target.value.trim()),placeholder:"my-awesome-project",className:"w-full rounded-xl border px-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500 ".concat(y?"border-slate-300":"border-red-500")}),!y&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:"3â€“63 chars, lowercase letters, numbers, hyphens; start/end with alphanumeric."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Region"}),(0,a.jsx)("div",{className:"space-y-4",children:[{country:"Germany",flag:"ðŸ‡©ðŸ‡ª",locations:[{code:"fsn1",label:"Falkenstein (fsn1)",country:"Germany",flag:"ðŸ‡©ðŸ‡ª"},{code:"nbg1",label:"Nuremberg (nbg1)",country:"Germany",flag:"ðŸ‡©ðŸ‡ª"}]},{country:"Finland",flag:"ðŸ‡«ðŸ‡®",locations:[{code:"hel1",label:"Helsinki (hel1)",country:"Finland",flag:"ðŸ‡«ðŸ‡®"}]}].map(e=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-slate-900 font-semibold mb-2 flex items-center gap-2",children:[(0,a.jsx)("span",{role:"img","aria-label":e.country,children:e.flag}),(0,a.jsx)("span",{children:e.country})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.locations.map(e=>{let t=(null==p?void 0:p.code)===e.code;return(0,a.jsx)("button",{type:"button",onClick:()=>h(e),className:"p-4 rounded-xl border-2 text-left transition-all ".concat(t?"border-purple-600 bg-purple-50 shadow":"border-slate-200 hover:border-purple-300"),"aria-pressed":t,children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{role:"img","aria-label":e.country,children:e.flag}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-slate-900",children:e.label}),(0,a.jsx)("div",{className:"text-xs text-slate-500",children:e.country})]})]})},e.code)})})]},e.country))})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-6",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>b(e=>!e),className:"w-full flex items-center justify-between p-6 text-left",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-slate-900 font-bold text-xl",children:"Auto-configure resources (optional)"}),(0,a.jsx)("div",{className:"text-slate-600 mt-1",children:"Tell us about your app's traffic and performance needs. We'll recommend CPU, memory, and scaling settings so you don't have to guess."})]}),(0,a.jsx)("svg",{className:"w-6 h-6 text-slate-900 transition-transform ".concat(x?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x&&(0,a.jsxs)("div",{className:"p-6 pt-0",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-slate-900 mb-2",children:"Whatâ€™s your peak hourly request volume?"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{v:"<1k",l:"<1K requests/hour"},{v:"1k-10k",l:"1K-10K req/hour"},{v:"10k-100k",l:"10K-100K req/hour"},{v:"100k-1m",l:"100K-1M req/hour"},{v:"1m+",l:"1M+ req/hour"}].map(e=>(0,a.jsx)("button",{className:"p-4 rounded-xl border-2 text-left text-slate-900 ".concat((null==v?void 0:v.traffic)===e.v?"border-purple-600 bg-purple-50":"border-slate-200 hover:border-purple-300"),onClick:()=>f({...v||{},traffic:e.v}),children:e.l},e.v))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-slate-900 mb-2",children:"Whatâ€™s acceptable response time under load?"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{v:"<50ms",l:"<50ms"},{v:"50-200ms",l:"50-200ms"},{v:"200-500ms",l:"200-500ms"},{v:">500ms",l:">500ms"}].map(e=>(0,a.jsx)("button",{className:"p-4 rounded-xl border-2 text-left text-slate-900 ".concat((null==v?void 0:v.latency)===e.v?"border-purple-600 bg-purple-50":"border-slate-200 hover:border-purple-300"),onClick:()=>f({...v||{},latency:e.v}),children:e.l},e.v))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-slate-900 mb-2",children:"What does your app do most?"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{v:"cpu",l:"CPU-heavy"},{v:"memory",l:"Memory-heavy"},{v:"io",l:"I/O-heavy"},{v:"balanced",l:"Balanced"}].map(e=>(0,a.jsx)("button",{className:"p-4 rounded-xl border-2 text-left text-slate-900 ".concat((null==v?void 0:v.workload)===e.v?"border-purple-600 bg-purple-50":"border-slate-200 hover:border-purple-300"),onClick:()=>f({...v||{},workload:e.v}),children:e.l},e.v))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-slate-900 mb-2",children:"How long does your app take to start?"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{v:"<5s",l:"<5 seconds"},{v:"5-15s",l:"5-15 seconds"},{v:"15-30s",l:"15-30 seconds"},{v:">30s",l:">30 seconds"}].map(e=>(0,a.jsx)("button",{className:"p-4 rounded-xl border-2 text-left text-slate-900 ".concat((null==v?void 0:v.startup)===e.v?"border-purple-600 bg-purple-50":"border-slate-200 hover:border-purple-300"),onClick:()=>f({...v||{},startup:e.v}),children:e.l},e.v))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-slate-900 mb-2",children:"How predictable is your traffic?"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{v:"steady",l:"Steady"},{v:"daily",l:"Daily pattern"},{v:"weekly",l:"Weekly pattern"},{v:"unpredictable",l:"Unpredictable spikes"}].map(e=>(0,a.jsx)("button",{className:"p-4 rounded-xl border-2 text-left text-slate-900 ".concat((null==v?void 0:v.spikiness)===e.v?"border-purple-600 bg-purple-50":"border-slate-200 hover:border-purple-300"),onClick:()=>f({...v||{},spikiness:e.v}),children:e.l},e.v))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 pt-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{f(null),j(null),d({smartQuestionnaire:null,recommendations:null})},className:"px-4 py-3 rounded-xl border border-slate-300 text-slate-700 hover:bg-slate-50",children:"Reset"}),g&&(0,a.jsx)("span",{className:"text-sm text-slate-600",children:"Clear answers and configure manually later"})]})]}),g&&(0,a.jsx)("div",{className:"mt-6 rounded-xl bg-green-50 border border-green-200 p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-2 mb-2",children:[(0,a.jsx)("span",{className:"text-green-600 text-lg",children:"âœ“"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-green-900 font-semibold text-sm mb-1",children:"We'll use these settings as defaults"}),(0,a.jsxs)("div",{className:"text-slate-900 font-medium",children:[g.replicasBase," replicas start Â· HPA ",g.hpaMin,"â€“",g.hpaMax," Â· Scale at ",g.hpaThreshold,"% CPU Â· ",g.hpaCooldown,"m cooldown"]}),(0,a.jsx)("div",{className:"text-slate-600 text-sm mt-1",children:g.rationale}),(0,a.jsx)("div",{className:"text-slate-500 text-xs mt-2",children:"You can adjust these in the next step if needed"})]})]})})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("button",{disabled:!u||!p||!y,onClick:()=>{if(!u||!p)return;let e=localStorage.getItem("github_pat")||void 0,a=Date.now(),t=u.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),s=new Date().toISOString();d({projectName:u,region:p,smartQuestionnaire:v,recommendations:g,project:{id:"proj-".concat(a),name:u,slug:t,description:"",githubPAT:e,createdAt:s,updatedAt:s,environments:[],envCount:0,prEnvCount:0,standardEnvCount:0,prEnvs:{enabled:!0,maxEnvs:3,lifetimeHours:2,autoDeleteOnPRClose:!0}}}),o.push("/dashboard")},className:"inline-flex items-center gap-3 px-8 py-4 rounded-xl text-white font-semibold shadow text-lg ".concat(u&&p&&y?"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700":"bg-slate-300 cursor-not-allowed"),children:[(0,a.jsx)("span",{children:"Continue to Application Setup"}),(0,a.jsx)("span",{children:"â†’"})]}),(0,a.jsx)("p",{className:"text-sm text-slate-500 mt-4",children:"You can edit everything later in Resources & Review"})]})]})})}}]);